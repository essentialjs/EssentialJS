/*
    Essential JavaScript ‚ùÄ http://essentialjs.com
    Copyright (C) 2011 by Henrik Vendelbo

    This program is free software: you can redistribute it and/or modify it under the terms of
    the GNU Affero General Public License version 3 as published by the Free Software Foundation.

    Additionally,

    Permission is hereby granted, free of charge, to any person obtaining a copy of this software 
    and associated documentation files (the "Software"), to deal in the Software without restriction, 
    including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, 
    and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, 
    subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING 
    BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, 
    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
function Resolver(e,t,n){"use strict";function i(e,t,n,i){if(void 0==Resolver[e]){if(!i)return t;Resolver[e]=Resolver(t,n||{}),Resolver[e].named=e}return Resolver[e]}function a(e,t,i){for(var a,r=l.namespace,o=0;o<e.length;++o){a=e[o];var s=r;if(r=r[a],void 0==r){switch(i){case void 0:case"generate":if(void 0===r){r=s[a]=(n.generator||Generator.ObjectGenerator)();continue}case"null":if(void 0===r)return null;break;case"undefined":if(void 0===r)return void 0}if(o<e.length-1)throw new Error("The '"+a+"' part of '"+e.join(".")+"' couldn't be resolved.")}}if(t)for(var a,c=0;a=t[c];++c){var s=r;if(r=r[a],void 0==r){switch(i){case void 0:case"generate":if(void 0===r){r=s[a]=(n.generator||Generator.ObjectGenerator)();continue}case"null":if(void 0===r)return null;break;case"undefined":if(void 0===r)return void 0}if(o<e.length-1)throw new Error("The '"+a+"' part of '"+t.join(".")+"' in '"+e.join(".")+"' couldn't be resolved.")}}return r}function r(e,t,n,i){return n[i]===e?!1:(n[i]=e,"object"==typeof e&&null!==e&&e.__generator__==e&&(e.info.symbol=i,e.info["package"]=t.join("."),e.info.within=n),!0)}function o(){}function s(e,t,n,i,a){function r(t,n,i){this.inTrigger||(++this.inTrigger,this.base=t,this.symbol=n,this.value=i,this.callback.call(e,this),--this.inTrigger)}var s={};return s.resolver=e,s.type=t,s.selector=n,s.data=i,s.callback=a,s.inTrigger=0,s.trigger=a?r:o,s}function l(e,t){return"object"==typeof e?void 0!=e.length?a(e,null,t):a(e.name.split("."),null,e.onundefined):a(e.split("."),null,t)}function c(){var e={};for(var t in g)e[t]=[];return e}function d(e,t,n){function i(){if(1==arguments.length){var e="object"==typeof arguments[0]?arguments[0]:arguments[0].split("."),n=a(k,e,t);return n}var i=a(k,null,t);return i}function o(){var e;if(arguments.length>1){var t="object"==typeof arguments[0]?arguments[0]:arguments[0].split("."),n=t.pop(),i=a(k,t,P),o=k.concat(t),s=o.join(".");if(t.push(n),e=!arguments[1],r(e,o,i,n)){var c=l.references[s+"."+n];c&&c._callListener("change",o,i,n,e);var d=l.references[s];d&&d._callListener("change",o,i,n,e)}}else{var i=a(D,null,P);if(r(e,D,i,R)&&(this._callListener("change",D,i,R,e),N)){var d=l.references[N];d&&d._callListener("change",D,i,R,e)}}return e}function d(e){if(arguments.length>1){var t="object"==typeof arguments[0]?arguments[0]:arguments[0].split("."),n=t.pop(),i=a(k,t,P),o=k.concat(t),s=o.join(".");if(t.push(n),e=arguments[1],r(e,o,i,n)){var c=l.references[s+"."+n];c&&c._callListener("change",o,i,n,e);var d=l.references[s];d&&d._callListener("change",o,i,n,e)}}else{var i=a(D,null,P);if(r(e,D,i,R)&&(this._callListener("change",D,i,R,e),N)){var d=l.references[N];d&&d._callListener("change",D,i,R,e)}}return e}function u(e){if(arguments.length>1){var t="object"==typeof arguments[0]?arguments[0]:arguments[0].split("."),n=t.pop(),i=a(k,t,P),o=k.concat(t),s=o.join(".");if(t.push(n),e=arguments[1],void 0===i[n]&&r(e,o,i,n)){var c=l.references[s+"."+n];c&&c._callListener("change",o,i,n,e);var d=l.references[s];d&&d._callListener("change",o,i,n,e)}return i[n]}var i=a(D,null,P);if(void 0===i[R]&&r(e,D,i,R)&&(this._callListener("change",D,i,R,e),N)){var d=l.references[N];d&&d._callListener("change",D,i,R,e)}return i[R]}function h(e){var n=a(k,null,t);return arguments.length?n[e]:n}function p(e,n){var i=k.pop(),o=a(k,null,t);k.push(i),void 0===o[i]&&r({},k,o,i),void 0===o[i][e]&&(k.push(e),r(n,k,o[i],e)&&this._callListener("change",k,e,n),k.pop())}function f(e,n){var i=k.pop(),o=a(k,null,t);k.push(i),void 0===o[i]&&r({},k,o,i),k.push(e),r(n,k,o[i],e)&&this._callListener("change",k,e,n),k.pop()}function v(e){var n=k.pop(),i=a(k,null,t);k.push(n),void 0===i[n]&&r({},k,i,n);var o=k.length,s={};for(var l in e)k[o]=l,r(e[l],k,i[n],l)&&(s[l]=e[l]);k.pop(),this._callListener("change",k,null,s)}function m(e){var n=a(k,null,t);for(var i in n)e[i]=n[i]}function y(t,n,i){if(!(!t in g))switch(arguments.length){case 2:this._addListener(t,e,null,arguments[1]);break;case 3:this._addListener(t,e,n,i)}}function b(e){var n=a(D,null,t),i=n[R];this._callListener(e,D,n,R,i);var r=l.references[N];r&&r._callListener("change",D,a(D,null),R,i)}function _(e){var t=sessionStorage[this.id];if(void 0!=t){var n;try{n=JSON.parse(t)}catch(i){}e.set(n)}}function w(e){var t;if(window.localStorage&&(t=localStorage[this.id]),void 0!=t){var n;try{n=JSON.parse(t)}catch(i){}e.set(n)}}function E(e){function t(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return void 0}var n=t(this.id);if(void 0!=n){if(n=decodeURI(n),"string"==this.options.encoding);else try{n=JSON.parse(n)}catch(i){}e._reading_cookie=!0,e.set(n),delete e._reading_cookie}}function S(e){try{sessionStorage[this.id]=JSON.stringify(e())}catch(t){}}function A(e){try{localStorage[this.id]=JSON.stringify(e())}catch(t){}}function C(e){if(!e._reading_cookie){var t;if("string"==this.options.encoding)t=encodeURI(e());else try{t=JSON.stringify(encodeURI(e()))}catch(n){}var i=this.options.days;if(i){var a=new Date;a.setTime(a.getTime()+1e3*60*60*24*i);var r="; expires="+a.toGMTString()}else var r="";if(document.cookie=this.id+"="+t+r+"; path=/",this.options.touchURL,this.options.touchScript){var o=document.getElementById(this.options.touchScript);if(o){var s=Resolver("essential::HTMLScriptElement")(o);o.parentNode.replaceChild(s,o)}}}}function L(t,n,i){if(i=i||{},/change/.test(t)){void 0==this.storechanges&&(this.storechanges={});var a="resolver."+l.named+"#"+e;switch(i.id&&(a=i.id),i.name&&(a=i.name),n){case"session":this.storechanges.session={call:S,id:a,options:i};break;case"local":this.storechanges.local={call:A,id:a,options:i};break;case"cookie":this.storechanges.cookie={call:C,id:a,options:i}}}if(/^load| load/.test(t)){void 0==this.readloads&&(this.readloads={},Resolver.readloads.push(this));var a="resolver."+l.named+"#"+e;switch(i.id&&(a=i.id),i.name&&(a=i.name),n){case"session":this.readloads.session={call:_,id:a,options:i};break;case"local":this.readloads.local={call:w,id:a,options:i};break;case"cookie":this.readloads.cookie={call:E,id:a,options:i}}}if(/unload/.test(t)){void 0==this.storeunloads&&(this.storeunloads={},Resolver.storeunloads.push(this));var a="resolver."+l.named+"#"+e;switch(i.id&&(a=i.id),i.name&&(a=i.name),n){case"session":this.storeunloads.session={call:S,id:a,options:i||{}};break;case"local":this.storeunloads.local={call:A,id:a,options:i||{}};break;case"cookie":this.storeunloads.cookie={call:C,id:a,options:i||{}}}}}function T(e,t,n,i,a){for(var r,o=0;r=this.listeners[e][o];++o)r.trigger(n,i,a);if(this.storechanges&&"change"==e)for(var s in this.storechanges)this.storechanges[s].call(this)}function x(e,t,n,i){var r=s(l,e,t,n,i);if(/^bind | bind | bind$|^bind$/.test(e)){e=e.replace(" bind ","").replace("bind ","").replace(" bind",""),this.listeners[e].push(r);var o=t.split("."),c=o.pop(),d=a(o,null,"undefined");r.trigger(d,c,void 0==d?void 0:d[c])}else this.listeners[e].push(r)}var R,k=[],N="",D=[];""!==e&&null!=e&&(k=e.split("."),R=k.pop(),N=k.join("."),D=k.slice(0),k.push(R));var P="null"==t||"undefined"==t?"throw":t;return i.set=d,i.toggle=o,i.get=i,i.declare=u,i.mixin=v,i.mixinto=m,i.getEntry=h,i.declareEntry=p,i.setEntry=f,i.on=y,i.trigger=b,i.stored=L,i.listeners=n||c(),i._callListener=T,i._addListener=x,i}switch(typeof e){case"undefined":return Resolver["default"];case"string":var u=e.split("::"),h=u[0]||"default",p=u[1];switch(u.length){case 1:return i(h,t,n,1==arguments.length||t);case 2:return""==p?i(h,t,n,1==arguments.length||t):Resolver[h].reference(p,t);case 3:if(""==u[2])return Resolver[h].get(p,t)}if(u.length>1&&p){var f="reference";switch(t){case"generate":case"null":case"undefined":case"throw":return Resolver[h].get(p,t);default:case"reference":return Resolver[h].reference(p)}return Resolver[h][f](p)}return Resolver[h];case"function":case"object":n=t||{},t=e}l.get=l,l.named=n.name,n.name&&(Resolver[n.name]=l),l.namespace=arguments[0],l.references={};var g={get:!0,change:!0,undefined:!0};return l.on=function(e,t,n,i){if(!(!e in g))switch(arguments.length){case 2:break;case 3:"string"==typeof arguments[1]&&this.reference(t).on(e,null,arguments[2]);break;case 4:this.reference(t).on(e,n,i)}},l.declare=function(e,t,n){var i;"object"==typeof e&&e.join?(i=e,e=e.join(".")):i=e.split(".");var o=i.pop(),s=a(i,null,n);if(void 0===s[o]){if(r(t,i,s,o)){var c=l.references[e];c&&c._callListener("change",i,s,o,t);var d=i.join("."),u=l.references[d];u&&u._callListener("change",i,s,o,t)}return t}return s[o]},l.set=function(e,t,n){var i;"object"==typeof e&&e.join?(i=e,e=e.join(".")):i=e.split(".");var o=i.pop(),s=a(i,null,n);if(r(t,i,s,o)){var c=l.references[e];c&&c._callListener("change",i,s,o,t);var d=i.join("."),u=l.references[d];u&&u._callListener("change",i,s,o,t)}return t},l.toggle=function(e,t){var n;"object"==typeof e&&e.join?(n=e,e=e.join(".")):n=e.split(".");var i=n.pop(),o=a(n,null,t),s=!o[i];if(r(s,n,o,i)){var c=l.references[e];c&&c._callListener("change",n,o,i,s);var d=n.join("."),u=l.references[d];u&&u._callListener("change",n,o,i,s)}return s},l.reference=function(e,t){e=e||"","object"==typeof e&&(t=e.onundefined,e=e.name);var n=t?e+":"+t:e,i=this.references[n];if(i)return i;var a=this.references[e];return void 0==a&&(a=this.references[e]=d(e,t),n==e)?a:this.references[n]=d(e,t,a.listeners)},l.proxy=function(e,t,n){t.on("change",n,this,function(t){t.data.set(e,t.value)})},l.override=function(e){return this.namespace=e,this},l.destroy=function(){for(var e in this.references)delete this.references[e]},n.mixinto&&(null==n.mixinto.get&&(n.mixinto.get=l),null==n.mixinto.declare&&(n.mixinto.declare=l.declare),null==n.mixinto.set&&(n.mixinto.set=l.set),null==n.mixinto.reference&&(n.mixinto.reference=l.reference),null==n.mixinto.override&&(n.mixinto.override=l.override),null==n.mixinto.on&&(n.mixinto.on=l.on)),l}function Generator(e,t){function n(e,t,n,i,a,r,o,s,l,c,d,u){var f;if(p.info.existing){var g=p.info.identifier.apply(p.info,arguments);if(g in p.info.existing)return f=p.info.existing[g];f=p.info.existing[g]=new p.type}else f=new p.type;f.__context__={generator:p,info:h,args:[e,t,n,i,a,r,o,s,l,c,d,u]};for(var v,l=0;v=h.constructors[l];++l)v.apply(f,f.__context__.args);return delete f.__context__,f}function i(e,t,n,i,a,r,o,s,l,c,d,u){var f,g=h.constructors[0],v={generator:p,info:h,args:[e,t,n,i,a,r,o,s,l,c,d,u]};if(p.info.existing){var m=p.info.identifier.apply(p.info,arguments);if(m in p.info.existing)return f=p.info.existing[m];f=p.info.existing[m]=p.type.apply(null,v.args)}else f=p.type.apply(null,v.args);f.__context__=v;for(var l=1;g=h.constructors[l];++l)g.apply(f,f.__context__.args);return delete f.__context__,f}function a(t,n,i,a,r,o,s,l,c,d,u,f){"no strict";var g;if(p.info.existing){var v=p.info.identifier.apply(p.info,arguments);if(v in p.info.existing)return g=p.info.existing[v];g=p.info.existing[v]=h.extendsBuiltin[arguments.length].apply(null,arguments)}else{g=h.extendsBuiltin[arguments.length].apply(null,arguments);for(var m in p.prototype)g[m]=p.prototype[m];e.prototype=h.extendsBuiltin.ctr.prototype}g.__context__={generator:p,info:h,args:[t,n,i,a,r,o,s,l,c,d,u,f]};for(var y,c=0;y=h.constructors[c];++c)h.extendsBuiltin.ctr!==y&&y.apply(g,g.__context__.args);return delete g.__context__,g}function r(){for(var e,t=this.__context__.args,n=0;e=p.args[n];++n)if(void 0===t[n]){var i=p.args[n].name,a=p.args[n]["default"];i in h.restrictedArgs?t[n]=h.restrictedArgs[i]:a&&(t[n]=a)}}function o(){p.presets.reference("").mixinto(this)}function s(){for(var e,t=this.__context__.generator.args,n=0;e=t[n];++n)e.preset&&(this[e.preset]=arguments[n])}function l(e,t){return function(n,i,a,r,o,s,l,c,d,u,h,p){switch(t){case 1:return new e(n);case 2:return new e(n,i);case 3:return new e(n,i,a);case 4:return new e(n,i,a,r);case 5:return new e(n,i,a,r,o);case 6:return new e(n,i,a,r,o,s);case 7:return new e(n,i,a,r,o,s,l);case 8:return new e(n,i,a,r,o,s,l,c);case 9:return new e(n,i,a,r,o,s,l,c,d);case 10:return new e(n,i,a,r,o,s,l,c,d,u);case 11:return new e(n,i,a,r,o,s,l,c,d,u,h);case 12:return new e(n,i,a,r,o,s,l,c,d,u,h,p);default:return new e}}}function c(e,t,n,i,a,r){if(void 0==t){if("string"==typeof e){var o=this.variants[e];if(o&&o.generator)return o.generator}else for(var s,l=0;s=e[l];++l){var o=this.variants[s];if(o&&o.generator)return o.generator}var o=this.variants[""];return o&&o.generator?o.generator:this}var c=t.handlers,d=t.bases,u=Generator(t);return this.variants[e]={func:t,generator:u,handlers:c||{},bases:d||[],additional:[n,i,a,r]},u}function d(){var e=[];e.push("function "),e.push(this.info.package),e.push("."),e.push(this.info.symbol),e.push("(");for(var t,n=[],i=0;t=this.args[i];++i)n.push(t.name+":"+t.variantName);return e.push(n.join(",")),e.push(")"),e.push(" {"),e.push("<br>  "),e.push("<br>  }"),e.push("<br>  "),e.join("")}function u(e,t){if(e.singleton)this.info.singleton=!0,this.info.lifecycle=e.lifecycle,this.info.existing={},this.info.identifier=function(){return 0},this.info.restricted||(Generator.restricted.push(p),this.info.restricted=!0);else if(e.identifier){var n="string"==typeof e.identifier?e.identifier:"identifier";this.info.identifier=this.info.constructors[-1][n],this.info.existing={},this.info.restricted||(Generator.restricted.push(p),this.info.restricted=!0)}else void 0!=e.size?this.info.restricted||(Generator.restricted.push(p),this.info.restricted=!0):(this.info.singleton=!1,this.info.existing=null);return this.info.restrictedArgs=t,t&&this.info.constructors.unshift(r),this}if(e.__generator__)return e.__generator__;var h={arguments:{},presets:{},options:t,constructors:[]},p=function(t){function r(){}var c=t.length-1,d=t[c];"function"==typeof d?d={}:--c,h.options=d;var u=e.bases||[];if(c>0){u=[];for(var p,f=c;f>=1&&(p=t[f]);--f){switch(p){case Array:case String:h.extendsBuiltin={ctr:p};for(var g=12;g>=0;--g)h.extendsBuiltin[g]=l(p,g)}u.push(p)}}for(var v,m=r,y=h.constructors,f=0;v=u[f];++f){if(v.bases&&v.info&&v.info.constructors){for(var b,_=0;b=v.bases[_];++_)y.push(v.bases[_]);v=u[f]=v.info.constructors[-1]}y.push(v)}y.push(e),y[-1]=e;var w=!1;u.length&&y[0].__generator__&&(w=0==y[0].__generator__.info.options.alloc),(w||d.alloc===!1)&&(m=y.shift());var E=n;w?E=i:d.alloc===!1?E=i:h.extendsBuiltin&&(E=a),E.__generator__=E,E.info=h,E.bases=u,E.args=d.args||e.args||[];for(var S,A=!1,f=0;S=E.args[f];++f)S.no=f,h.arguments[S.name]=S,S.preset&&(A=!0);if(h.constructors.unshift(o),A&&h.constructors.unshift(s),u.length)for(var v,C=Generator(u[0]),L=E.prototype=new C.type,f=1;v=u[f];++f)for(var T in v.prototype)L[T]=v.prototype[T];E.type=m,E.type.prototype=E.prototype;for(var T in e.prototype)E.prototype[T]=e.prototype[T];if(d.prototype)for(var T in d.prototype)E.prototype[T]=d.prototype[T];return e.prototype=E.prototype,E}(arguments);return Resolver(p.prototype,{mixinto:p,generator:Generator.ObjectGenerator}),p.presets=Resolver(h.presets),p.variant=c,p.variants={},p.toRepr=d,p.restrict=u,e.__generator__=p,p}Resolver.readloads=[],Resolver.storeunloads=[],Resolver.hasGenerator=function(e){return e.__generator__?!0:"function"==typeof e&&"function"==typeof e.type?!0:!1},Resolver.exists=function(e){return void 0!=this[e]},Resolver({},{name:"default"}),Generator.restricted=[],Generator.ObjectGenerator=Generator(Object),!function(e){"use strict";function t(e){this.options=e||{},this.name=this.options.name,this.preset=this.options.preset===!0?this.name:this.options.preset}function n(){this.type=String,this.variantName="String"}function i(){this.type=Number,this.variantName="Number"}function a(){this.type=Date,this.variantName="Date"}function r(){this.type=Boolean,this.variantName="Boolean"}function o(){this.type=Object,this.variantName="Object"}function s(){this.type=Array,this.variantName="Array"}function l(e,t){if(e.indexOf)return e.indexOf(t)>=0;for(var n,i=0;n=e[i];++i)if(n==t)return!0;return!1}function c(){this._set={};for(var e=this.length-1;e>=0;--e){var t=this[e];(this._set[t]||""===t)&&this.splice(e,1),""!=t&&null!=t&&(this._set[t]=!0)}}function d(e){return e.replace(/\\\\\\"/g,'\\\\\\\\"').replace(/\\\\"/g,'\\\\\\"').replace(/\\"/g,'\\\\"').replace(/"/g,'\\"')}function u(){}function h(e){var t,n=e._cleaners;if(void 0!=n){do t=n.pop(),t&&t.call(e);while(t);n=void 0}}function p(e){h(e);for(var t=void 0!==e.firstElementChild?e.firstElementChild:e.firstChild;t;t=void 0!==t.nextElementSibling?t.nextElementSibling:t.nextSibling)p(t)}function f(){}function g(){}function v(e,t,n,i,a){var r=t?t.split(" "):[];this.uniqueId=a,this.roles=r,this.role=r[0],this.el=e,this.conf=n||{},this.instance=null,this.sizing={contentWidth:0,contentHeight:0},this.layout={displayed:!(0==e.offsetWidth&&0==e.offsetHeight),lastDirectCall:0,enable:!1,throttle:null},this.enhanced=!1,this.discarded=!1,this.contentManaged=!1,this.page=i,this.handlers=i.resolver("handlers"),this._init()}function m(e){return function(){return e.discardHandler(e.el,e.role,e.instance)}}function y(e,t,n,i,a){if(!i&&null==t&&null==n&&arguments.length>=3)return null;var r=e.uniqueId;void 0==r&&(r=e.uniqueId=++X);var o=F[r];if(o&&!i)return o;o=new v(e,t,n,a,r),F[r]=o;var s=a.resolver("descriptors");return s[r]=o,void 0==e._cleaners&&(e._cleaners=[]),o}function b(){for(var e in F){var t=F[e];t.el&&(h(t.el),delete t.el),delete F[e]}F=z.set("enhancedElements",{})}function _(){for(var e,t=0;e=q[t];++t)e.window&&e.window.close();q=null,z.set("enhancedWindows",[])}function w(){for(var e,t=0;e=Generator.restricted[t];++t)"page"==e.info.lifecycle&&e()}function E(){for(var e,t=Generator.restricted-1;e=Generator.restricted[t];--t){var n=e.info.constructors[-1].discarded;for(var i in e.info.existing){var a=e.info.existing[i];n&&n.call(e,a)}e.info.constructors[-1].__generator__=void 0,e.__generator__=void 0}}function S(){if(!J){J=!0;for(var e,t=0;e=Resolver.readloads[t];++t)for(var n in e.readloads)e.readloads[n].call(e);try{z("_queueDelayedAssets")(),z.set("_queueDelayedAssets",function(){}),w()}catch(i){console.error("Failed to launch delayed assets and singletons",i)}}}function A(){}function C(){for(var e,t=0;e=Resolver.storeunloads[t];++t)for(var n in e.storeunloads)e.storeunloads[n].call(e);E(),y.maintainer&&clearInterval(y.maintainer),y.maintainer=null,b(),_();for(var n in Resolver)"function"==typeof Resolver[n].destroy&&Resolver[n].destroy();Resolver("page").set("state.livepage",!1)}function L(){try{e.document.documentElement.doScroll("left")}catch(t){return setTimeout(L,1),void 0}S()}function T(){if(e.document.addEventListener){var t=function(){e.document.removeEventListener("DOMContentLoaded",t,!1),S()};e.document.addEventListener("DOMContentLoaded",t,!1),e.addEventListener("load",S,!1)}else if(e.document.attachEvent){var n=function(){"complete"===e.document.readyState&&(e.document.detachEvent("onreadystatechange",n),S())};e.document.attachEvent("onreadystatechange",n),e.attachEvent("onload",S);var i=!1;try{i=null==e.frameElement}catch(a){}e.document.documentElement.doScroll&&i&&L()}}function x(){function e(){}V.log=function(){e("none",arguments)},V.trace=function(){e("trace",arguments)},V.debug=function(){e("debug",arguments)},V.info=function(){e("info",arguments)},V.warn=function(){e("warn",arguments)},V.error=function(){e("error",arguments)},V.group=function(){e("group",arguments)},V.groupEnd=function(){e("groupEnd",arguments)}}function R(){V.log=function(){window.console.log.apply(window.console,arguments)},V.trace=function(){window.console.trace()},V.debug=function(){(window.console.debug||window.console.info).apply(window.console,arguments)},V.info=function(){window.console.info.apply(window.console,arguments)},V.warn=function(){window.console.warn.apply(window.console,arguments)},V.error=function(){window.console.error.apply(window.console,arguments)},void 0==window.console.debug&&(V.log=function(e){window.console.log(e)},V.trace=function(){window.console.trace()},V.debug=function(e){window.console.log(e)},V.info=function(e){window.console.info(e)},V.warn=function(e){window.console.warn(e)},V.error=function(e){window.console.error(e)})}function k(e){return null==e?e:String(e).replace(/&/g,"&amp;").replace(/"/g,"&amp;").replace(/'/g,"&amp;").replace(/</g,"&amp;").replace(/>/g,"&amp;")}function N(e){var t={},n=e.split("-");return t.chain=1==n.length?"en":n[0],t}function D(e){for(var t,n=0;t=e[n];++n)t=t.toLowerCase().replace("_","-"),K.declare(["locales",t],N(t))}function P(e,t,n,i){var a=e.toLowerCase().replace("_","-");for(var r in n){var o=n[r];i&&K.declare(["keys",t,r],i()),K.set(["keys",t,r,a],o),i&&K.declare(["sentences",o,t],i()),K.set(["sentences",o,t,a,"key"],r)}}function M(e){function t(t,n){var i=null,a=e.defaultContext||null;"object"==typeof t&&(i=t.phrase,a=t.context||null,t=t.key);var r=K("locales"),o=K("locale");o&&(o=o.toLowerCase().replace("_","-"));var s,l;if(t)for(l=e.get(["keys",a,t],"undefined");void 0==s&&l&&o;)s=l[o],o=r[o]?r[o].chain:null;else if(i)for(l=e.get(["phrases",a,i],"undefined");void 0==s&&l&&o;)s=l[o],o=r[o]?r[o].chain:null;if(s){if(n&&l.begin&&l.end)for(var c in n)s=s.replace(l.begin+c+l.end,n[c]);return s}return i}function n(){var t=K("locale");t&&(t=t.toLowerCase().replace("_","-"));for(var n in e.namespace.keys){var i=e.namespace.keys[n];for(var a in i){var r=i[a];r[t]&&e.set(["sentences",r[t].toLowerCase(),n,t,"key"],a)}}}function i(t){void 0==e.namespace.sentences&&n();var i=null,a=K("locale");a&&(a=a.toLowerCase().replace("_","-")),t=t.toLowerCase();var r=e(["sentences",t,i,a],"undefined");if(void 0==r){r={matches:[]};var o=e("sentences");if(t.length>1)for(var s in o){var l=e(["sentences",o[s],i,a],"undefined");l&&l.key&&s.indexOf(t)>=0&&r.matches.push(l.key)}}return r}e.translate=t,e._=t,e.set("translate",t),e.reverseTranslate=i,e.set("translate",i)}function O(e){var t=Resolver({});M(t);var n=null,i=K("locale");i&&(i=i.toLowerCase().replace("_","-"));var a=K(["keys",null]);for(var r in a)if(r.substring(0,e.length)==e){var o=a[r];t.set(["keys",n,r],o)}var s=K(["keys",e],"undefined");return s&&(t.defaultContext=e,t.set(["keys",e],s)),t}var z=Resolver("essential",{}),H="file:"===location.protocol||"chrome:"===location.protocol||"chrome-extension:"===location.protocol||"resource:"===location.protocol;z.declare("isFileProtocol",H);var j="127.0.0.1"==location.hostname||"0.0.0.0"==location.hostname||"localhost"==location.hostname||location.port.length>0||H?"development":"production";z.declare("serverMode",j),z.set("Type",Generator(t)),z.set("StringType",Generator(n,t)),z.namespace.Type.variant("String",z.namespace.StringType),z.set("NumberType",Generator(i,t)),z.namespace.Type.variant("Number",z.namespace.NumberType),z.set("DateType",Generator(a,t)),z.namespace.Type.variant("Date",z.namespace.DateType),z.set("BooleanType",Generator(r,t)),z.namespace.Type.variant("Boolean",z.namespace.BooleanType),z.set("ObjectType",Generator(o,t)),z.namespace.Type.variant("Object",z.namespace.ObjectType),z.set("ArrayType",Generator(s,t)),z.namespace.Type.variant("Array",z.namespace.ArrayType),z.declare("arrayContains",l),z.set("ArraySet",Generator(c,Array)),c.prototype.item=function(e){return this[e]},c.prototype.contains=c.prototype.has=function(e){var t=this._set[e];return t===e?!0:"object"==typeof t&&t.multiple_values?l(t,e):!1},c.prototype.set=function(e,t){t?this.add(e):this.remove(e)},c.prototype.add=function(e){var t=this._set[e];if(void 0===t)this._set[e]=e,this.push(e);else{if(t===e)return;"object"==typeof t&&t.multiple_values||(t=this._set[e]=[t],t.multiple_values=!0),l(t,e)||(t.push(e),this.push(e))}},c.prototype.remove=function(e){var t=this._set[e];if(void 0!==t){if(t===e){for(var n=this.length-1;n>=0;--n)this[n]===e&&this.splice(n,1);return delete this._set[e],void 0}if("object"==typeof t&&t.multiple_values){for(var n=this.length-1;n>=0;--n)this[n]===e&&this.splice(n,1);for(var n=t.length-1;n>=0;--n)t[n]===e&&t.splice(n,1);0==t.length&&delete this._set[e]}}},c.prototype.toggle=function(e){this.has(e)?this.remove(e):this.add(e)},c.prototype.separator=" ",c.prototype.toString=function(){return this.join(this.separator)},z.set("escapeJs",d);var I=z.set("DOMTokenList",Generator(u,c,Array));I.prototype.emulateClassList=!0,I.set=function(e,t,n){n?e.add(t):e.remove(t)},I.mixin=function(e,t){if(t.split)for(var n,i=t.split(" "),a=0;n=i[a];++a)e.add(n);else if(t.length)for(var n,a=0;n=t[a];++a)e.add(n);else for(var r in t)e.set(r,t[r])},I.tmplClass=function(e,t,n,i){for(var a=e.classList,r=a.length-1;r>=0;--r){var o=a.item(r),s=t?o.substring(0,t.length)==t:!0,l=n?o.substring(o.length-n.length,o.length)==n:!0;s&&l&&a.remove(o)}i&&a.add((t||"")+i+(n||"")),a.emulateClassList&&(e.className=e.classList.join(e.classList.separator))},I.eitherClass=function(e,t,n,i){var a=e.classList,r=i?n:t,o=i?t:n;r&&a.remove(r),o&&a.add(o),a.emulateClassList&&(e.className=e.classList.join(e.classList.separator))},z.declare("callCleaners",h),z.declare("cleanRecursively",p);var W=z.declare("Layouter",Generator(f));f.prototype.layout=function(){},f.prototype.updateActiveArea=function(){},f.prototype.childLayouterUpdated=function(){},f.prototype.childLaidoutUpdated=function(){};var B=z.declare("Laidout",Generator(g));g.prototype.layout=function(){},g.prototype.calcSizing=function(){};var F=z.declare("enhancedElements",{}),U=z.declare("sizingElements",{}),G=z.declare("maintainedElements",{}),q=z.declare("enhancedWindows",[]);v.prototype._init=function(){this.role&&this.handlers.init[this.role]&&this.handlers.init[this.role].call(this,this.el,this.role,this.conf)},v.prototype.discardHandler=function(){},v.prototype._tryEnhance=function(e){this.role&&e.enhance[this.role]&&(this.instance=e.enhance[this.role].call(this,this.el,this.role,this.conf),this.enhanced=this.instance===!1?!1:!0),this.enhanced&&(this.sizingHandler=e.sizing[this.role],this.layoutHandler=e.layout[this.role],this.layoutHandler&&this.layoutHandler.throttle&&(this.layout.throttle=this.layoutHandler.throttle),this.discardHandler=e.discard[this.role],this.el._cleaners.push(m(this)),this.sizingHandler&&(U[this.uniqueId]=this),this.layoutHandler&&(this.layout.enable=!0,G[this.uniqueId]=this))},v.prototype._tryMakeLayouter=function(e){if(this.conf.layouter&&void 0==this.layouter){var t=W.variants[this.conf.layouter];t&&(this.layouter=this.el.layouter=t.generator(e,this.el,this.conf,this.layouterParent),this.layouterParent&&(U[this.uniqueId]=this),t.generator.prototype.hasOwnProperty("layout")&&(this.layout.enable=!0,this.layout.queued=!0,G[this.uniqueId]=this))}},v.prototype._tryMakeLaidout=function(e){if(this.conf.laidout&&void 0==this.laidout){var t=B.variants[this.conf.laidout];t&&(this.laidout=this.el.laidout=t.generator(e,this.el,this.conf,this.layouterParent),U[this.uniqueId]=this,t.generator.prototype.hasOwnProperty("layout")&&(this.layout.enable=!0,this.layout.queued=!0,G[this.uniqueId]=this))}},v.prototype.refresh=function(){var e=z("getActiveArea"),t=!1;if(this.layout.area!=e()&&(this.layout.area=e(),t=!0),t||this.layout.queued){this.layoutHandler&&this.layoutHandler(this.el,this.layout,this.instance);var n=this.layouter,i=this.laidout;n&&n.layout(this.el,this.layout,this.laidouts()),i&&i.layout(this.el,this.layout),this.layout.queued=!1}},v.prototype.laidouts=function(){for(var e=[],t=void 0!==this.el.firstElementChild?this.el.firstElementChild:this.el.firstChild;t;t=void 0!==t.nextElementSibling?t.nextElementSibling:t.nextSibling)t.stateful&&t.stateful("sizing","undefined")&&e.push(t);return e},v.prototype.liveCheck=function(){if(this.enhanced&&!this.discarded){var e=document.body==this.el||z("contains")(document.body,this.el);e||this.discardNow()}},v.prototype.discardNow=function(){h(this.el),delete this.el,this.discarded=!0},v.prototype._queueLayout=function(e,t,n){this.layout.displayed!=n&&(this.layout.displayed=n,this.layout.queued=!0),(this.layout.width!=e||this.layout.height!=t)&&(this.layout.width=e,this.layout.height=t,this.layout.queued=!0),(this.layout.contentWidth!=this.sizing.contentWidth||this.layout.contentHeight!=this.sizing.contentHeight)&&(this.layout.contentWidth=this.sizing.contentWidth,this.layout.contentHeight=this.sizing.contentHeight,this.layout.queued=!0)},v.prototype.checkSizing=function(){var e=this.el.offsetWidth,t=this.el.offsetHeight,n=!(0==e&&0==t);this.sizing.contentWidth=this.el.scrollWidth,this.sizing.contentHeight=this.el.scrollHeight,this.sizingHandler&&this.sizingHandler(this.el,this.sizing,this.instance),this.laidout&&this.laidout.calcSizing(this.el,this.sizing),this._queueLayout(e,t,n),this.layout.queued&&this.layouterParent&&(this.layouterParent.layout.queued=!0)};var X=555;y.all=F,y.maintainer=null,z.declare("EnhancedDescriptor",y),y.refreshAll=function(){if(void 0!=document.body){for(var e in U){var t=U[e];t.checkSizing()}for(var e in G){var t=G[e];t.layout.enable&&t.refresh()}}},y.maintainAll=function(){if(void 0!=document.body)for(var e in G){var t=G[e];t.liveCheck(),t.discarded&&(t.layout.enable&&delete G[e],U[e]&&delete U[e],delete F[e])}},z.set("instantiatePageSingletons",w),z.set("_queueDelayedAssets",function(){});var Y=!!document.documentElement.getAttribute("essential-testing"),J=Y;window.widget&&(widget.notifyContentExited=function(){C()}),window.device||(T(),e.addEventListener?e.addEventListener("load",A,!1):e.attachEvent("onload",A),e.addEventListener?e.addEventListener("unload",C,!1):e.attachEvent("onunload",C));var V=z.declare("console",{});z.declare("setStubConsole",x),z.declare("setWindowConsole",R),window.console?R():x(),z.declare("htmlEscape",k);var K=Resolver("translations",{}),Z=window.navigator.userLanguage||window.navigator.language||"en";K.declare("defaultLocale",Z),K.declare("locale",Z),K.on("change","locale",function(e){var t=e.value.split("-");1==t.length&&(t=e.value.split("_")),Resolver.exists("page")&&Resolver("page").set("state.lang",t[0])}),K.declare("locales",{}),K.declare("keys",{}),K.declare("phrases",{}),K.setLocales=D,K.setKeysForLocale=P,M(K),z.set("translate",K._),K.makeKeyTranslationSubset=O}(window),!function(){function e(e,t){return e!==t&&(e.contains?e.contains(t):!0)}function t(e,t){return!!(16&e.compareDocumentPosition(t))}function n(){return!1}function i(e,t){"object"==typeof e&&"number"==typeof e.length&&(e=e.join("")),"object"==typeof t&&"number"==typeof t.length&&(t=t.join("")),2==arguments.length&&("<head"!=e.substring(0,5)&&(e="<head>"+e+"</head>"),"<body"!=t.substring(0,5)&&(t="<body>"+t+"</body>"));var n;if(document.implementation&&document.implementation.createHTMLDocument)n=document.implementation.createHTMLDocument(""),n.documentElement.innerHTML=2==arguments.length?"<html>"+(e||"")+(t||"")+"</html>":e.replace(/<![^>]+>/,"");else{if(!window.ActiveXObject)return document.createElement("DIV");n=new ActiveXObject("htmlfile"),n.appendChild(n.createElement("html"));var i=n.createElement("head"),a=n.createElement("body");n.documentElement.appendChild(i),n.documentElement.appendChild(a),2==arguments.length&&(a.innerHTML=t,""!=e&&(i.innerHTML=e))}return n}function a(e){var t;if(e.stateful&&(t=e.stateful("impl.role","undefined")))return t;if(t=e.getAttribute("role"))return t;var n=e.tagName||e.nodeName||"default",i=N[n.toLowerCase()]||N["default"];if(t=i.role,i.type&&e.type){var a=e.getAttribute("type");t=i.type[a]||t}return i.tweak&&(t=i.tweak(t,e)),t}function r(e){this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.charCode=e.charCode}function o(e){r.call(this,e)}function s(e){r.call(this,e)}function l(e){this.clientX=e.clientX,this.clientY=e.clientY,this.pageX=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.pageY=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,this.screenX=e.screenX,this.screenY=e.screenY,this.button=D[e.button],this.buttons=e.button}function c(e){l.call(this,e),this.fromElement=e.fromElement,this.toElement=e.toElement,this.relatedTarget=e.relatedTarget}function d(){for(var e=this.target;e&&e.tagName;){if(e.getElementById||void 0==e.getAttribute)return this;
var t=e.getAttribute("role")||a(e);switch(t){case"button":case"link":case"menuitem":this.stateful=e.stateful,this.commandRole=t,this.commandElement=e,this.ariaDisabled=null!=e.getAttribute("aria-disabled"),this.commandName=e.getAttribute("data-name")||e.getAttribute("name"),e=null}e&&(e=e.parentNode)}if(void 0==this.commandElement)return this;for(e=this.commandElement;e&&e.tagName;){var n=e.getAttribute("action");n&&(this.action=n,this.actionElement=e,e=null),e&&(e=e.parentNode)}return this}function u(e){var t="trigger",n=null;if(e.elements){for(var i,a=0;i=e.elements[a];++a)if("submit"==i.type){t=i.name,n=i;break}}else{for(var i,r=e.getElementsByTagName("button"),a=0;i=r[a];++a)if("submit"==i.type){t=i.name,n=i;break}var o=e.getElementsByTagName("input");if(n)for(var i,a=0;i=o[a];++a)if("submit"==i.type){t=i.name,n=i;break}}return this.action=e.action,this.actionElement=e,this.commandElement=n,this.commandName=t,this}function h(e){this._original=e,this.type=e.type,this.target=e.target||e.srcElement,this.currentTarget=e.currentTarget||e.target,P[e.type].copyEvent.call(this,e)}function p(e,t){var n=new h(document.createEventObject());if(t)for(var i in t)n._original[i]=t[i];return n}function f(e,t){var n=document.createEvent(P[e].type||"Events"),i=!0;if(t)for(var a in t)"bubbles"==a?i=!!t[a]:n[a]=t[a];return n.initEvent(e,i,P[e].cancelable,null,null,null,null,null,null,null,null,null,null,null,null),n.isDefaultPrevented=h.prototype.isDefaultPrevented,n.trigger=function(e){(e||this.target).dispatchEvent(this)},n}function g(e,t){function n(){this._original=e,this.withActionInfo=d,this.withDefaultSubmit=u,this.stopPropagation=function(){e.stopPropagation()},this.preventDefault=function(){e.preventDefault()},this.isDefaultPrevented=h.prototype.isDefaultPrevented}return"string"==typeof e?f(e,t):e.withActionInfo?e:(n.prototype=e,new n)}function v(e,t){return"string"==typeof e?f(e,t):(e.withActionInfo=d,e.withDefaultSubmit=u,e.isDefaultPrevented=h.prototype.isDefaultPrevented,e)}function m(e,t){return"string"==typeof e?p(e,t):e&&e.withActionInfo?e:new h(null==e?window.event:e)}function y(e,t,n){function i(){if(this.removeEventListener)for(var t in e)this.removeEventListener(t,e[t],n),delete e[t];else for(var t in e)this.detachEvent("on"+t,e[t]),delete e[t]}return i.listeners=t,i}function b(e,t,n){function i(e,t){var n="object"==typeof t,i=n?t.handleEvent:t;return function(){return i.call(e,M(window.event))}}void 0==e._cleaners&&(e._cleaners=[]);var a={};if(e.addEventListener)for(var r in t)a[r]=t[r],e.addEventListener(r,t[r],n||!1);else for(var r in t)a[r]=i(e,t[r]),e.attachEvent("on"+r,a[r]);e._cleaners.push(y(a,t,n||!1))}function _(e,t,n){if(e._cleaners)for(var i,a=0;i=e._cleaners[a];++a)i.listeners==t&&(i.call(e),e._cleaners.splice(a,1));else if(e.removeEventListener)for(var r in t)e.removeEventListener(r,t[r],n||!1);else for(var r in t)e.detachEvent("on"+r,t[r])}function w(e){for(var t=0,n=0;e&&!isNaN(e.scrollTop);)n+=e.scrollTop,t+=e.scrollLeft,e=e.parentNode;return{left:t,top:n}}function E(e){for(var t=w(e),n=0,i=0;e;)i+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;return{left:n-t.left,top:i-t.top}}function S(e,t,n,i){var a=2,r=arguments.length-1,o=e,s=t,l=arguments[r],c=document;if("object"==typeof l&&l&&"doctype"in l&&r>1&&(c=l,--r),"object"==typeof o&&(s=o,o=s.tagName||"span",--a),s&&s.nodeName&&s.attributes&&"#"!=s.nodeName[0]){for(var d,u={},h=0;d=s.attributes[h];++h)u[d.name]=d.value;s=u}var p=c.createElement(o);for(var f in s)switch(f){case"tagName":break;case"class":void 0!==s[f]&&(p.className=s[f]);break;case"style":void 0!==s[f]&&(p.style.cssText=s[f]);break;case"src":void 0!==s[f]&&(p[f]=s[f],/cachebuster=/.test(s[f])&&(p[f]=p[f].replace(/cachebuster=*[0-9]/,"cachebuster="+String((new Date).getTime()))));break;case"id":case"className":case"rel":case"lang":case"language":case"type":void 0!==s[f]&&(p[f]=s[f]);break;case"onload":A(p,s.onload);break;case"onclick":case"onmousemove":case"onmouseup":case"onmousedown":p.addEventListener?p.addEventListener(f.substring(2),s[f],!1):p.attachEvent&&p.attachEvent(f,s[f]);break;default:null!=s[f]&&p.setAttribute(f,s[f])}for(var g=[],h=a;r>=h;++h){var v=arguments[h];"object"==typeof v&&"length"in v?g.concat(v):"string"==typeof v&&g.push(arguments[h])}if(g.length){i=document;var m=i._inner_drop;void 0==m&&(m=i._inner_drop=i.createElement("DIV"),i.body.appendChild(m)),m.innerHTML=g.join("");for(var y=m.firstChild;y;y=m.firstChild)p.appendChild(y)}return p}function A(e,t){e.onload=function(e){this.onloadDone||(this.onloadDone=!0,t.call(this,e||event))},e.onreadystatechange=function(e){"loaded"!==this.readyState&&"complete"!==this.readyState||this.onloadDone||(this.onloadDone=!0,t.call(this,e||event))}}function C(e,t){return S("SCRIPT",e,t)}function L(e,t){this.el=e,this.style={},this.track=t||["visibility","marginLeft","marginRight","marginTop","marginBottom"],this.compute()}function T(e){var t="pixel"+e.substring(0,1).toUpperCase()+e.substring(1);return function(n,i){var a=n.style[e],r=n.runtimeStyle[e];try{n.runtimeStyle[e]=n.currentStyle[e],n.style[e]=i||0,i=n.style[t]+"px"}catch(o){}return n.style[e]=a,n.runtimeStyle[e]=r,i}}function x(e,t){return!navigator.userAgent.toLowerCase().match(/chrome|webkit/)||"left"!==e&&"right"!==e&&"top"!==e&&"bottom"!==e||"auto"!==t?void 0:!0}var R=Resolver("essential",{});R("console");var k;k=document.documentElement.contains?e:document.documentElement.compareDocumentPosition?t:n,R.declare("contains",k),R.declare("createHTMLDocument",i);var N={form:{role:"form"},iframe:{role:"presentation"},object:{role:"presentation"},a:{role:"link"},img:{role:"img"},label:{role:"note"},input:{role:"textbox",type:{range:"slider",checkbox:"checkbox",radio:"radio",button:"button",submit:"button",reset:"button"}},select:{role:"listbox"},button:{role:"button"},textarea:{role:"textbox"},fieldset:{role:"group"},progress:{role:"progressbar"},"default":{role:"default"}};a.ROLE=N,R.set("effectiveRole",a);var D={1:0,2:2,4:1},P={click:{type:"MouseEvents",cancelable:!1,copyEvent:l},dblclick:{type:"MouseEvents",cancelable:!1,copyEvent:l},contextmenu:{cancelable:!1,copyEvent:l},mousemove:{type:"MouseEvents",cancelable:!0,copyEvent:l},mouseup:{type:"MouseEvents",cancelable:!0,copyEvent:l},mousedown:{type:"MouseEvents",cancelable:!0,copyEvent:l},mousewheel:{cancelable:!1,copyEvent:l},wheel:{cancelable:!0,copyEvent:l},mouseenter:{type:"MouseEvents",cancelable:!1,copyEvent:l},mouseleave:{type:"MouseEvents",cancelable:!1,copyEvent:l},mouseout:{type:"MouseEvents",cancelable:!0,copyEvent:c},mouseover:{type:"MouseEvents",cancelable:!0,copyEvent:c},keyup:{cancelable:!0,copyEvent:r},keydown:{cancelable:!0,copyEvent:r},keypress:{cancelable:!0,copyEvent:r},blur:{cancelable:!1,copyEvent:o},focus:{cancelable:!1,copyEvent:o},focusin:{cancelable:!1,copyEvent:o},focusout:{cancelable:!1,copyEvent:o},copy:{cancelable:!1,copyEvent:o},cut:{cancelable:!1,copyEvent:o},change:{cancelable:!1,copyEvent:o},input:{cancelable:!1,copyEvent:o},textinput:{cancelable:!1,copyEvent:o},scroll:{cancelable:!1,copyEvent:s},reset:{cancelable:!1,copyEvent:s},submit:{cancelable:!1,copyEvent:s},select:{cancelable:!1,copyEvent:s},error:{cancelable:!1,copyEvent:s},haschange:{cancelable:!1,copyEvent:s},load:{cancelable:!1,copyEvent:s},unload:{cancelable:!1,copyEvent:s},resize:{cancelable:!1,copyEvent:s},"":{}};h.prototype.relatedTarget=null,h.prototype.withActionInfo=d,h.prototype.withDefaultSubmit=u,h.prototype.stopPropagation=function(){this._original.cancelBubble=!0},h.prototype.preventDefault=function(){this.defaultPrevented=!0},h.prototype.isDefaultPrevented=function(){return this.defaultPrevented},h.prototype.CAPTURING_PHASE=1,h.prototype.AT_TARGET=2,h.prototype.BUBBLING_PHASE=3,h.prototype.trigger=function(){this.target.fireEvent("on"+this.type,this._original)};var M;M=navigator.userAgent.match(/Firefox\//)?R.declare("MutableEvent",v):navigator.userAgent.match(/MSIE /)&&!navigator.userAgent.match(/Opera/)?R.declare("MutableEvent",m):R.declare("MutableEvent",g),R.declare("addEventListeners",b),R.declare("removeEventListeners",_),R.declare("getScrollOffsets",w),R.declare("getPageOffsets",E),R.set("HTMLElement",S),R.set("HTMLScriptElement",C),R.declare("ElementPlacement",Generator(L)),L.prototype.compute=function(){for(var e,t=0;e=this.track[t];++t)this.style[e]=this._compute(e)},L.prototype.PIXEL=/^\d+(px)?$/i,L.prototype.CSS_PRECALCULATED_SIZES={medium:"2px"},L.prototype.CSS_PROPERTY_TYPES={"border-width":"size","border-left-width":"size","border-right-width":"size","border-bottom-width":"top","border-top-width":"top",borderWidth:"size",borderLeftWidth:"size",borderRightWidth:"size",borderBottomWidth:"top",borderTopWidth:"top",padding:"size","padding-left":"size","padding-right":"size","padding-top":"top","padding-bottom":"top",paddingLeft:"size",paddingRight:"size",paddingTop:"top",paddingBottom:"top",margin:"size","margin-left":"size","margin-right":"size","margin-top":"top","margin-bottom":"top",marginLeft:"size",marginRight:"size",marginTop:"top",marginBottom:"top","font-size":"size",fontSize:"size","line-height":"top",lineHeight:"top","text-indent":"size",textIndent:"size",width:"size",height:"top","max-width":"size","max-height":"top","min-width":"size","min-height":"top",maxWidth:"size",maxHeight:"top",minWidth:"size",minHeight:"top",left:"size",right:"size",top:"top",bottom:"top"},L.prototype.CSS_PROPERTY_FROM_JS={backgroundColor:"background-color",backgroundImage:"background-image",backgroundPosition:"background-position",backgroundRepeat:"background-repeat",borderWidth:"border-width",borderLeft:"border-left",borderRight:"border-right",borderTop:"border-top",borderBottom:"border-bottom",borderLeftWidth:"border-left-width",borderRightWidth:"border-right-width",borderBottomWidth:"border-bottom-width",borderTopWidth:"border-top-width",paddingLeft:"padding-left",paddingRight:"padding-right",paddingTop:"padding-top",paddingBottom:"padding-bottom",marginLeft:"margin-left",marginRight:"margin-right",marginTop:"margin-top",marginBottom:"margin-bottom",fontSize:"font-size",lineHeight:"line-height",textIndent:"text-indent"},L.prototype.JS_PROPERTY_FROM_CSS={"background-color":"backgroundColor","background-image":"backgroundImage","background-position":"backgroundPosition","background-repeat":"backgroundRepeat","border-width":"borderWidth","border-left":"borderLeft","border-right":"borderRight","border-top":"borderTop","border-bottom":"borderBottom","border-left-width":"borderLeftWidth","border-right-width":"borderRightWidth","border-bottom-width":"borderBottomWidth","border-top-width":"borderTopWidth","padding-left":"paddingLeft","padding-right":"paddingRight","padding-top":"paddingTop","padding-bottom":"paddingBottom","margin-left":"marginLeft","margin-right":"marginRight","margin-top":"marginTop","margin-bottom":"marginBottom","font-size":"fontSize","line-height":"lineHeight","text-indent":"textIndent"},L.prototype.TO_PIXELS_IE={left:T("left"),top:T("top"),size:T("left")},L.prototype._compute=function(e){var t;if(e=this.JS_PROPERTY_FROM_CSS[e]||e,this.el.currentStyle){var n=this.el.currentStyle[e],i=this.CSS_PRECALCULATED_SIZES[n];if(void 0!==i)return i;if(this.PIXEL.test(n))return n;var a=this.TO_PIXELS_IE[this.CSS_PROPERTY_TYPES[e]];t=a?a(this.el,n):n}else document.defaultView&&(t=document.defaultView.getComputedStyle(this.el,null)[e]);return(!t||""===t||x(e,t))&&(t=this.el.style[e]),t}}(),!function(Scripted_gather){function outerHtml(e){for(var t,n=[e.tagName.toLowerCase()],i=0;t=COPY_ATTRS[i];++i){var a=e[t]||e.getAttribute(t)||null;null!=a&&n.push(t+'="'+a+'"')}var r="";return EMPTY_TAGS[n[0]]||(r=(e.text||e.innerHTML)+"</"+n[0]+">"),"<"+n.join(" ")+">"+r}function readElementState(e,t){for(var n in state_treatment){var i=state_treatment[n],a=void 0;i.read&&(a=i.read(e,n)),void 0==a&&(a=i["default"]),void 0!==a&&(t[n]=a)}}function reflectProperty(e,t,n){e[t]=!!n}function reflectAttribute(e,t,n){return"boolean"==typeof e[t]?(e[t]=!!n,void 0):(n?e.setAttribute(t,t):e.removeAttribute(t),void 0)}function reflectAria(e,t,n){n?e.setAttribute("aria-"+t,t):e.removeAttribute("aria-"+t)}function reflectAttributeAria(e,t,n){"boolean"==typeof e[t]?e[t]=!!n:n?e.setAttribute(t,t):e.removeAttribute(t),n?e.setAttribute("aria-"+t,t):e.removeAttribute("aria-"+t)}function reflectAriaProp(e,t,n){e[this.property]=n}function readPropertyAria(e,t){var n=e.getAttribute("aria-"+t),i=void 0;if(null!=n&&(i="false"!=n&&""!=n),void 0!=e[t]&&(i=e[t]),void 0==i&&!contains(e.ownerDocument.body,e)){var n=e.getAttribute(t);null!=n&&(i="false"!=n)}return i}function readAttribute(e,t){var n=e.getAttribute(t),i=void 0;return null!=n&&(i="false"!=n&&""!=n),i}function readAttributeAria(e,t){var n=e.getAttribute("aria-"+t),i=void 0;null!=n&&(i="false"!=n&&""!=n);var n=e.getAttribute(t);return null!=n&&(i="false"!=n&&""!=n),i}function readAria(e,t){var n=e.getAttribute("aria-"+t),i=void 0;null!=n&&(i="false"!=n&&""!=n);var n=e.getAttribute(t);return null!=n&&(i="false"!=n&&""!=n),i}function reflectElementState(e){var t=e.data,n=state_treatment[e.symbol];n&&n.reflect(t,e.symbol,e.value);var i=t.stateful("map.class","undefined");if(i){var a=i.state[e.symbol],r=i.notstate[e.symbol],o=(a||"").split("%");o.length>1?DOMTokenList_tmplClass(t,o[0],o[1],e.value):DOMTokenList_eitherClass(t,a,r,e.value)}}function reflectElementClass(){var e=[];e[0]=state.disabled?"state-disabled":""}function ClassForState(){}function ClassForNotState(){}function make_Stateful_fireAction(e){return function(){var t=MutableEvent({target:e}).withActionInfo();fireAction(t)}}function Stateful_reflectStateOn(e,t){var n=e.stateful=this;void 0==e._cleaners&&(e._cleaners=[]),arrayContains(e._cleaners,statefulCleaner)||e._cleaners.push(statefulCleaner),0!=t&&readElementState(e,n("state")),n.on("change","state",e,reflectElementState),nativeClassList||(e.classList=DOMTokenList(),DOMTokenList_mixin(e.classList,e.className));var i=e.stateful("map.class","undefined");i&&StatefulResolver.updateClass(n,e)}function statefulCleaner(){this.stateful&&(this.stateful.destroy(),this.stateful.discard&&this.stateful.discard(),this.stateful.fireAction=void 0,this.stateful=void 0)}function StatefulResolver(e,t){if(e&&e.stateful)return e.stateful;var n={};"object"==typeof t&&(n=t,t=t.mapClassForState);var i=Resolver({state:{}},n);return t&&(i.set("map.class.state",new ClassForState),i.set("map.class.notstate",new ClassForNotState)),i.fireAction=make_Stateful_fireAction(e),i.reflectStateOn=Stateful_reflectStateOn,e&&i.reflectStateOn(e),i}function activateArea(e){if(!_liveAreas)return _activeAreaName=e,void 0;for(var t in EnhancedDescriptor.all){var n=EnhancedDescriptor.all[t];n.layouter&&n.layouter.updateActiveArea(e,n.el)}_activeAreaName=e,EnhancedDescriptor.maintainAll()}function getActiveArea(){return _activeAreaName}function bringLive(){for(var e,t=0;e=enhancedWindows[t];++t)e.openWhenReady&&(e.openNow(),delete e.openWhenReady);EnhancedWindow.prototype.open=EnhancedWindow.prototype.openNow,_liveAreas=!0,pageResolver.set("state.livepage",!0)}function onPageLoad(){_liveAreas=!0,pageResolver.set("state.livepage",!0)}function _Scripted(){this.config=this.resolver.reference("config","undefined"),this.resolver.declare("resources",[]),this.resources=this.resolver.reference("resources"),this.resolver.declare("inits",[]),this.inits=this.resolver.reference("inits")}function _SubPage(e){this.resolver=Resolver({config:{},descriptors:{},handlers:pageResolver("handlers")}),this.document=document,_Scripted.call(this),e&&(this.appConfig=e),this.body=document.createElement("DIV")}function handleResponse(e,t,n,i){e.status>=200&&e.status<300?n.call(t,e.responseText,e.getResponseHeader("Last-Modified")):"function"==typeof i&&i.call(t,e.status)}function cacheError(){pageResolver.set(["state","online"],!1)}function updateOnlineStatus(){var e=navigator.onLine;void 0!=e&&pageResolver.set(["state","online"],e)}function _ApplicationConfig(){this.resolver=pageResolver,this.document=document,this.head=this.document.head,this.body=this.document.body,_Scripted.call(this),updateOnlineStatus(),this.body.addEventListener?(this.body.addEventListener("online",updateOnlineStatus),this.body.addEventListener("offline",updateOnlineStatus),window.applicationCache&&applicationCache.addEventListener("error",updateOnlineStatus)):this.body.attachEvent&&(this.body.attachEvent("online",updateOnlineStatus),this.body.attachEvent("offline",updateOnlineStatus)),setInterval(updateOnlineStatus,1e3);var e=this.resolver.reference("state","undefined");for(var t in this.state)e.set(t,this.state[t]);this.state=e,document.documentElement.lang=this.state("lang"),e.on("change",this,this.onStateChange),this.resolver.on("change","state.loadingScriptsUrl",this,this.onLoadingScripts),this.resolver.on("change","state.loadingConfigUrl",this,this.onLoadingConfig),this.pages=this.resolver.reference("pages",{generator:SubPage}),SubPage.prototype.appConfig=this,pageResolver.reflectStateOn(document.body,!1),this.prepareEnhance();var n=this.getConfig(this.body),i=this.body.getAttribute("role");(n||i)&&EnhancedDescriptor(this.body,i,n,!1,this);var a=document.body.getAttribute("data-src")||document.body.getAttribute("src");a&&(this._markPermanents(),this.loadPage(a),this.bodySrc=a,this.appliedSrc=null),_essentialTesting||setTimeout(bringLive,60)}function enhanceUnhandledElements(){var e=ApplicationConfig(),t=essential("DocumentRoles")(),n=e.resolver("descriptors");t._enhance_descs(n),t._enhance_descs(n);var i=pageResolver("pages");for(var a in i){var r=i[a];if(r.applied){var n=r.resolver("descriptors");t._enhance_descs(n)}}}function onmessage(e){var t=JSON.parse(e.data);t&&t.enhanced&&t.enhanced.main.width&&t.enhanced.main.height&&(placement.setOptions(t.enhanced.options),placement.setMain(t.enhanced.main),placement.track())}function trackMainWindow(){placement.track()}function EnhancedWindow(e,t,n,i){this.name=t,this.url=e,this.options=n||{},this.notifyNeeded=!0,this.index=i,this.width=this.options.width||100,this.height=this.options.height||500}function defineWindow(e,t,n){if(t)for(var i,a=0;i=enhancedWindows[a];++a)if(t==i.name)return i.override(e,n),i.open(),void 0;var r=new EnhancedWindow(e,t,n,enhancedWindows.length);return enhancedWindows.push(r),r}function openSidebar(e){var t=HTMLElement("nav"),n=getSubPage(e);n.fetch(),t.innerHTML=n.body.content,document.body.appendChild(t)}function openWindow(e,t,n){var i=defineWindow(e,t,n);return i.open(),i}var essential=Resolver("essential",{}),console=essential("console"),DOMTokenList=essential("DOMTokenList"),MutableEvent=essential("MutableEvent"),arrayContains=essential("arrayContains"),escapeJs=essential("escapeJs"),HTMLElement=essential("HTMLElement"),HTMLScriptElement=essential("HTMLScriptElement"),EnhancedDescriptor=essential("EnhancedDescriptor"),enhancedElements=essential("enhancedElements"),enhancedWindows=essential("enhancedWindows"),contains=essential("contains"),createHTMLDocument=essential("createHTMLDocument"),COPY_ATTRS=["rel","href","media","type","src","lang","defer","async","name","content","http-equiv","charset"],EMPTY_TAGS={link:!0,meta:!0,base:!0,img:!0,br:!0,hr:!0,input:!0,param:!0},nativeClassList=!!document.documentElement.classList,state_treatment={disabled:{index:0,reflect:reflectAria,read:readPropertyAria,"default":!1,property:"ariaDisabled"},readOnly:{index:1,read:readPropertyAria,"default":!1,reflect:reflectProperty},hidden:{index:2,reflect:reflectAttribute,read:readAttributeAria},required:{index:3,reflect:reflectAttributeAria,read:readAttributeAria,property:"ariaRequired"},expanded:{index:4,reflect:reflectAttributeAria,read:readAria,property:"ariaExpanded"},checked:{index:5,reflect:reflectProperty,read:readPropertyAria,property:"ariaChecked"}};document.addEventListener&&(state_treatment.disabled.reflect=reflectAttributeAria);var DOMTokenList_eitherClass=essential("DOMTokenList.eitherClass"),DOMTokenList_mixin=essential("DOMTokenList.mixin"),DOMTokenList_tmplClass=essential("DOMTokenList.tmplClass");ClassForState.prototype.disabled="state-disabled",ClassForState.prototype.readOnly="state-readOnly",ClassForState.prototype.hidden="state-hidden",ClassForState.prototype.required="state-required",ClassForState.prototype.expanded="state-expanded",ClassForNotState.prototype.disabled="",ClassForNotState.prototype.readOnly="",ClassForNotState.prototype.hidden="",ClassForNotState.prototype.required="",ClassForNotState.prototype.expanded="",essential.declare("statefulCleaner",statefulCleaner),essential.declare("StatefulResolver",StatefulResolver);var pageResolver=StatefulResolver(null,{name:"page",mapClassForState:!0});pageResolver.declare("config",{}),pageResolver.declare("descriptors",{}),pageResolver.reference("state").mixin({livepage:!1,background:!1,authenticated:!0,authorised:!0,connected:!0,online:!0,preloading:!1,loading:!0,loadingConfig:!1,loadingScripts:!1,configured:!0,fullscreen:!1,launching:!1,launched:!1,lang:document.documentElement.lang||"en",loadingScriptsUrl:{},loadingConfigUrl:{}}),pageResolver.reference("connection").mixin({loadingProgress:"",status:"connected",detail:"",userName:"",logStatus:!1}),pageResolver.declare("handlers.init",{}),pageResolver.declare("handlers.enhance",{}),pageResolver.declare("handlers.sizing",{}),pageResolver.declare("handlers.layout",{}),pageResolver.declare("handlers.discard",{}),pageResolver.reference("map.class.state").mixin({authenticated:"authenticated",loading:"loading",launched:"launched",launching:"launching",livepage:"livepage"}),pageResolver.reference("map.class.notstate").mixin({authenticated:"login"}),StatefulResolver.updateClass=function(e){var t={};for(var n in state_treatment)t[n]=!0;for(var n in e("map.class.state"))t[n]=!0;for(var n in e("map.class.notstate"))t[n]=!0;for(var n in t)e.reference("state."+n,"null").trigger("change")};var _activeAreaName,_liveAreas=!1;essential.set("activateArea",activateArea),essential.set("getActiveArea",getActiveArea);var _essentialTesting=!!document.documentElement.getAttribute("essential-testing");_essentialTesting||(window.addEventListener?window.addEventListener("load",onPageLoad,!1):window.attachEvent&&window.attachEvent("onload",onPageLoad)),Resolver("page").declare("pages",{}),_Scripted.prototype.declare=function(e,t){this.config.declare(e,t),"object"==typeof t&&(t["introduction-area"]&&this.resolver.declare("introduction-area",t["introduction-area"]),t["authenticated-area"]&&this.resolver.declare("authenticated-area",t["authenticated-area"]))},_Scripted.prototype.modules={domReady:!0},_Scripted.prototype.context={require:function(e){if(void 0==this.modules[e]){var t=new Error("Missing module '"+e+"'");throw t.ignore=!0,t}}},_Scripted.prototype._gather=Scripted_gather;var _singleQuotesRe=new RegExp("'","g");_Scripted.prototype._getElementRoleConfig=function(e,t){var n=null;if(t){var i=this.config(t);if(i){n={};for(var a in i)n[a]=i[a]}}if(e==this.body){var i=this.config("body");if(i){n=n||{};for(var a in i)n[a]=i[a]}}else if(e==this.head){var i=this.config("head");if(i){n=n||{};for(var a in i)n[a]=i[a]}}var r=e.getAttribute("data-role");if(r)try{n=n||{};var o=JSON.parse("{"+r.replace(_singleQuotesRe,'"')+"}");for(var a in o)n[a]=o[a]}catch(s){console.debug("Invalid config: ",r,s),n["invalid-config"]=r}return n},_Scripted.prototype.getElement=function(e){var t=e.split("."),n=this.document.getElementById(t[0]);return n&&t.length>1&&(n=n.getElementByName(t[1])),n},_Scripted.prototype.declare=function(e,t){this.config.declare(e,t)},_Scripted.prototype.getConfig=function(e){if(e.id)return this._getElementRoleConfig(e,e.id);var t=e.getAttribute("name");if(t)for(var n=e.parentNode;n&&n.tagName;){if(n.id)return this._getElementRoleConfig(e,n.id+"."+t);n=n.parentNode}return this._getElementRoleConfig(e)},_Scripted.prototype._prep=function(e,t){for(var n=void 0!==e.firstElementChild?e.firstElementChild:e.firstChild;n;){if(n.attributes){var i=this.getConfig(n),a=n.getAttribute("role"),r=EnhancedDescriptor(n,a,i,!1,this);r&&(r.layouterParent=t.layouter,r.conf.layouter&&(t.layouter=r)),null!=r&&r.contentManaged||this._prep(n,{layouter:t.layouter})}n=void 0!==n.nextElementSibling?n.nextElementSibling:n.nextSibling}},_Scripted.prototype.prepareEnhance=function(){this._gather(this.head.getElementsByTagName("script")),this._gather(this.body.getElementsByTagName("script")),this._prep(this.body,{})};var SubPage=Generator(_SubPage,{prototype:_Scripted.prototype});SubPage.prototype.page=function(e){console.error("SubPage application/config cannot define pages ("+e+")",this.url)},SubPage.prototype.headPrefix=["<head>"];for(var metas=(document.head||document.documentElement.firstChild).getElementsByTagName("meta"),i=0,e;e=metas[i];++i)SubPage.prototype.headPrefix.push(outerHtml(e));SubPage.prototype.fetch=function(){var e=essential("XMLHttpRequest"),t=e();t.page=this,"function"==typeof t.overrideMimeType&&t.overrideMimeType("text/html"),t.open("GET",this.url,!0),t.setRequestHeader("Accept","text/html; q=0.9, */*; q=0.5");try{t.send(null),essential("isFileProtocol")?0===t.status||t.status>=200&&t.status<300?this.loadedPageDone(t.responseText):this.loadedPageError(t.status):t.onreadystatechange=function(){4==t.readyState&&handleResponse(t,this.page,this.page.loadedPageDone,this.page.loadedPageError)}}catch(n){this.loadedPageError(null,n)}},SubPage.prototype.loadedPageDone=function(e){var t=this.document=createHTMLDocument(e);this.head=t.head,this.body=t.body,this.documentLoaded=!0,this.prepareEnhance(),this.appConfig.bodySrc&&this.appConfig.bodySrc!=this.appConfig.appliedSrc&&this.applyBody()},SubPage.prototype.loadedPageError=function(e){this.documentError=e,this.documentLoaded=!0},SubPage.prototype.parseHTML=function(e){var t=this.document=createHTMLDocument(e);this.head=document.importNode(t.head),this.body=document.importNode(t.body),this.documentLoaded=!0,this.resolver.declare("handlers",pageResolver("handlers")),this.prepareEnhance()},SubPage.prototype.applyBody=function(){for(var e=void 0!==this.body.firstElementChild?this.body.firstElementChild:this.body.firstChild,t=document.body,n=void 0!==t.firstElementChild?t.firstElementChild:t.firstChild;e;)null==n?t.appendChild(e):t.insertBefore(e,n),e=void 0!==this.body.firstElementChild?this.body.firstElementChild:this.body.firstChild;this.applied=!0,enhanceUnhandledElements()},SubPage.prototype.unapplyBody=function(){for(var e=document.body,t=null,n=void 0!==e.lastElementChild?e.lastElementChild:e.lastChild;n;)n.permanent?n=n.previousElementSibling||n.previousSibling:(null==t?this.body.appendChild(n):this.body.insertBefore(n,t),t=n),n=void 0!==e.lastElementChild?e.lastElementChild:e.lastChild;this.applied=!1},SubPage.prototype.doesElementApply=function(e){return e.attrs?0==e.attrs.subpage?!1:!0:"false"==e.getAttribute("subpage")?!1:"false"==e.getAttribute("data-subpage")?!1:!0},SubPage.prototype.getHeadHtml=function(){for(var e,t=ApplicationConfig().resources(),n=ApplicationConfig().resolver("state.loadingScriptsUrl"),i=[],a="",r=0;e=t[r];++r)this.doesElementApply(e)&&i.push(outerHtml(e));for(var o in n){var s=n[o];a=s.attrs.base,this.doesElementApply(s)&&i.push(outerHtml(s))}return a&&(a='<base href="'+a+'">'),i.push("</head>"),escapeJs(this.headPrefix.join("")+a+i.join(""))},SubPage.prototype.getBodyHtml=function(){var e=["<body>",this.body.innerHTML,"</body>"];return e.join("")},SubPage.prototype.getInlineUrl=function(){var e=['javascript:document.write("',"<html><!-- From Main Window -->",this.getHeadHtml(),this.getBodyHtml(),"</html>",'");'];return e.join("")};var ApplicationConfig=essential.set("ApplicationConfig",Generator(_ApplicationConfig,{prototype:_Scripted.prototype}));ApplicationConfig.presets.declare("state",{}),ApplicationConfig.prototype.getIntroductionArea=function(){var e=this.resolver("pages");for(var t in e){var n=e[t];if(n.applied){var i=n.resolver("introduction-area","null");if(i)return i}}return this.resolver("introduction-area","null")||"introduction"},ApplicationConfig.prototype.getAuthenticatedArea=function(){var e=this.resolver("pages");for(var t in e){var n=e[t];if(n.applied){var i=n.resolver("authenticated-area","null");if(i)return i}}return this.resolver("authenticated-area","null")||"authenticated"},ApplicationConfig.prototype.page=function(e,t,n,i){var a=this.pages()[e];return void 0==a&&(a=this.pages()[e]=SubPage()),a.documentLoaded||(a.url=e,a.options=t,a.parseHTML(n,i)),a},ApplicationConfig.prototype.loadPage=function(e){var t=this.pages()[e];return void 0==t&&(t=this.pages()[e]=SubPage()),t.documentLoaded||(t.url=e,t.fetch()),t},ApplicationConfig.prototype.onStateChange=function(e){switch(e.symbol){case"livepage":var t=e.data;e.data.doInitScripts(),_activeAreaName?activateArea(_activeAreaName):e.base.authenticated?activateArea(t.getAuthenticatedArea()):activateArea(t.getIntroductionArea());break;case"loadingScripts":case"loadingConfig":--e.inTrigger,this.set("state.loading",e.base.loadingScripts||e.base.loadingConfig),++e.inTrigger;break;case"preloading":if(!e.value)for(var n in e.base.loadingScriptsUrl){var i=e.base.loadingScriptsUrl[n];if("pastload"==i.rel&&!i.added){var a=!0;i.lang&&(a=i.lang==pageResolver("state.lang")),a&&document.body.appendChild(HTMLScriptElement(i.attrs)),i.added=a}}break;case"loading":0==e.value&&(document.body&&essential("instantiatePageSingletons")(),e.data.doInitScripts(),enhanceUnhandledElements(),window.widget&&widget.notifyContentIsReady(),1==e.base.configured&&1==e.base.authenticated&&1==e.base.authorised&&1==e.base.connected&&0==e.base.launched&&(this.set("state.launching",!0),document.body&&essential("instantiatePageSingletons")(),enhanceUnhandledElements()));break;case"authenticated":var t=e.data;e.base.authenticated?activateArea(t.getAuthenticatedArea()):activateArea(t.getIntroductionArea());case"authorised":case"configured":0==e.base.loading&&1==e.base.configured&&1==e.base.authenticated&&1==e.base.authorised&&1==e.base.connected&&0==e.base.launched&&(this.set("state.launching",!0),document.body&&essential("instantiatePageSingletons")(),e.data.doInitScripts(),enhanceUnhandledElements());break;case"launching":case"launched":1==e.value&&(document.body&&essential("instantiatePageSingletons")(),e.data.doInitScripts(),enhanceUnhandledElements(),"launched"==e.symbol&&this.set("state.launching",!1));break;case"lang":document.documentElement.lang=e.value;break;default:0==e.base.loading&&0==e.base.launching&&0==e.base.launched&&document.body&&essential("instantiatePageSingletons")()}},ApplicationConfig.prototype.onLoadingScripts=function(e){var t=this("state.loadingScriptsUrl"),n=!1,i=!1;for(var a in t){var r=t[a];"preload"==r.rel&&(i=!0),r&&(n=!0)}this.set("state.loadingScripts",n),this.set("state.preloading",i),0==e.value&&document.body&&essential("instantiatePageSingletons")()},ApplicationConfig.prototype.onLoadingConfig=function(e){var t=this("state.loadingConfigUrl"),n=!1;for(var i in t)t[i]&&(n=!0);this.set("state.loadingConfig",n),0==e.value&&document.body&&essential("instantiatePageSingletons")()},ApplicationConfig.prototype.isPageState=function(e){return this.resolver("state."+e)},ApplicationConfig.prototype.setPageState=function(e,t){this.resolver.set(["state",e],t)},ApplicationConfig.prototype._markPermanents=function(){for(var e=void 0!==document.body.firstElementChild?document.body.firstElementChild:document.body.firstChild;e;)e.permanent=!0,e=void 0!==e.nextElementSibling?e.nextElementSibling:e.nextSibling},ApplicationConfig.prototype.doInitScripts=function(){for(var inits=this.inits(),i=0,s;s=inits[i];++i)if(s.parentNode&&!s.done)try{with(this.context.element=s,this.context.parentElement=s.parentElement||s.parentNode,this.context)eval(s.text);s.done=!0}catch(ex){}this.context["this"]=void 0},window.widget&&(widget.pauseAudioVisual=function(){pageResolver.set("state.background",!0)},widget.didEnterWidgetMode=function(){pageResolver.set("state.background",!1)});var placement={x:void 0,y:void 0,width:void 0,height:void 0,options:{},main:{},notifyNeeded:!1,setOptions:function(e){this.options=e
},setMain:function(e){this.main=e},measure:function(){var e=window.screenX,t=window.screenY,n=window.outerWidth,i=window.outerHeight;this.notifyNeeded=this.notifyNeeded||e!=this.x||t!=this.y||n!=this.width||i!=this.height,this.x=e,this.y=t,this.width=n,this.height=i,this.data=JSON.stringify({x:e,y:t,width:n,height:i})},track:function(){var e=this.x,t=this.y,n=this.width,i=this.height;if(this.options.glueHeight&&(t=this.main.y,i=this.main.height),this.options.glueWidth&&(e=this.main.x,n=this.main.width),this.options.glueLeft?e=this.main.x-this.options.width:this.options.glueRight&&(e=this.main.x+this.main.width),this.options.glueTop?t=this.main.y-this.options.height:this.options.glueBottom&&(t=this.main.y+this.main.height),e!=this.x||t!=this.y){var a=screen.width-this.width,r=screen.height-this.height;e=void 0===e?0:Math.min(Math.max(0,e),a),t=void 0===t?0:Math.min(Math.max(0,t),r)}(e!=this.x||t!=this.y)&&window.moveTo&&window.moveTo(e-screen.availLeft,t-screen.availTop),(n!=this.width||i!=this.height)&&window.resizeTo&&window.resizeTo(n,i),this.notifyNeeded=this.notifyNeeded||e!=this.x||t!=this.y||n!=this.width||i!=this.height,this.x=e,this.y=t,this.width=n,this.height=i}};placement.measure(),placement.notifyNeeded=!1,essential.declare("placement",placement),placement.broadcaster=setInterval(function(){placement.measure();for(var e,t=0;e=enhancedWindows[t];++t)e.notify();placement.notifyNeeded,placement.notifyNeeded=!1},250),window.opener&&(setInterval(trackMainWindow,250),window.postMessage&&(window.addEventListener?window.addEventListener("message",onmessage,!1):window.attachEvent&&window.attachEvent("onmessage",onmessage))),EnhancedWindow.prototype.override=function(e,t){this.url=e,this.options=t,this.notifyNeeded=!0},EnhancedWindow.prototype.content=function(){},EnhancedWindow.prototype.close=function(){this.window&&this.window.close(),this.window=null},EnhancedWindow.prototype.open=function(){this.openWhenReady=!0},EnhancedWindow.prototype.openNow=function(){this.close();var e="menubar=no,width="+this.width+",height="+this.height+",status=no,location=no,toolbar=no",t=ApplicationConfig().pages()[this.url],n=t?t.getInlineUrl():this.url;this.window=window.open(n,this.name,e);var i=this;setTimeout(function(){i.notify({})},50)},EnhancedWindow.prototype.anchor=function(e,t){var n={href:"javascript:void(0);"},i=this;return this.name&&(n.target=this.name),n.onclick=function(e){return i.open(),e&&e.preventDefault&&e.preventDefault(),!1},t["class"]&&(n["class"]=t["class"]),HTMLElement("a",n,e)},EnhancedWindow.prototype.notify=function(){if(this.window&&this.window.postMessage&&(this.notifyNeeded||placement.notifyNeeded)){var e=JSON.stringify(this.options);this.window.postMessage('{"enhanced":{"options":'+e+', "main":'+placement.data+"}}","*")}this.notifyNeeded=!1},EnhancedWindow.prototype.reposition=function(){this.options.focus&&this.window.focus&&this.window.focus()},essential.declare("defineWindow",defineWindow),essential.declare("openSidebar",openSidebar),essential.declare("openWindow",openWindow)}(function(scripts){for(var resources=this.resources(),inits=this.inits(),i=0,s;s=scripts[i];++i)switch(s.getAttribute("type")){case"application/config":try{with(this)eval(s.text)}catch(ex){Resolver("essential::console").error("Failed to parse application/config",s.text)}break;case"application/init":inits.push(s);break;default:var name=s.getAttribute("name");name&&null==s.getAttribute("src")&&(this.modules[name]=!0),s.parentNode==document.head&&resources.push(s)}}),!function(){function e(){this._object=s&&!d?new s:new window.ActiveXObject("Microsoft.XMLHTTP"),this._listeners=[]}function t(){return new e}function n(e){if(e._object.send(e._data),l&&!e._async)for(e.readyState=t.OPENED,r(e);e.readyState<t.DONE;)if(e.readyState++,i(e),e._aborted)return}function i(e){t.onreadystatechange&&t.onreadystatechange.apply(e),e.dispatchEvent({type:"readystatechange",bubbles:!1,cancelable:!1,timeStamp:new Date+0})}function a(e){var t=e.responseXML,n=e.responseText;return c&&n&&t&&!t.documentElement&&e.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&(c&&0!==t.parseError||!t.documentElement||t.documentElement&&"parsererror"==t.documentElement.tagName)?null:t}function r(e){try{e.responseText=e._object.responseText}catch(t){}try{e.responseXML=a(e._object)}catch(t){}try{e.status=e._object.status}catch(t){}try{e.statusText=e._object.statusText}catch(t){}}function o(e){e._object.onreadystatechange=new window.Function}var s=window.XMLHttpRequest,l=!!window.controllers,c=window.document.all&&!window.opera,d=c&&window.navigator.userAgent.match(/MSIE 7.0/);t.prototype=e.prototype,l&&s.wrapped&&(t.wrapped=s.wrapped),t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t.prototype.readyState=t.UNSENT,t.prototype.responseText="",t.prototype.responseXML=null,t.prototype.status=0,t.prototype.statusText="",t.prototype.priority="NORMAL",t.prototype.onreadystatechange=null,t.onreadystatechange=null,t.onopen=null,t.onsend=null,t.onabort=null,t.prototype.open=function(e,n,a,s,d){delete this._headers,arguments.length<3&&(a=!0),this._async=a;var u=this,h=this.readyState,p=null;c&&a&&(p=function(){h!=t.DONE&&(o(u),u.abort())},window.attachEvent("onunload",p)),t.onopen&&t.onopen.apply(this,arguments),arguments.length>4?this._object.open(e,n,a,s,d):arguments.length>3?this._object.open(e,n,a,s):this._object.open(e,n,a),this.readyState=t.OPENED,i(this),this._object.onreadystatechange=function(){return!l||a?(u.readyState=u._object.readyState,r(u),u._aborted?(u.readyState=t.UNSENT,void 0):(u.readyState==t.DONE&&(delete u._data,o(u),c&&a&&window.detachEvent("onunload",p),h!=u.readyState&&i(u),h=u.readyState),void 0)):void 0}},t.prototype.send=function(e){t.onsend&&t.onsend.apply(this,arguments),arguments.length||(e=null),e&&e.nodeType&&(e=window.XMLSerializer?(new window.XMLSerializer).serializeToString(e):e.xml,this._headers["Content-Type"]||this._object.setRequestHeader("Content-Type","application/xml")),this._data=e,n(this)},t.prototype.sendEncoded=function(e){if(t.onsend&&t.onsend.apply(this,arguments),arguments.length||(e=null),e&&"object"==typeof e){var i=this._headers["Content-Type"];switch(i||(this._object.setRequestHeader("Content-Type","text/json"),i="text/json"),i){case"text/json":e=JSON.stringify(e);break;case"application/x-www-form-urlencoded":var a=[];for(var r in e)a.push(r+"="+encodeURIComponent(e[r]));e=a.join("&")}}this._data=e,n(this)},t.prototype.abort=function(){t.onabort&&t.onabort.apply(this,arguments),this.readyState>t.UNSENT&&(this._aborted=!0),this._object.abort(),o(this),this.readyState=t.UNSENT,delete this._data},t.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()},t.prototype.getResponseHeader=function(e){return this._object.getResponseHeader(e)},t.prototype.setRequestHeader=function(e,t){return this._headers||(this._headers={}),this._headers[e]=t,this._object.setRequestHeader(e,t)},t.prototype.addEventListener=function(e,t,n){for(var i,a=0;i=this._listeners[a];a++)if(i[0]==e&&i[1]==t&&i[2]==n)return;this._listeners.push([e,t,n])},t.prototype.removeEventListener=function(e,t,n){for(var i,a=0;(i=this._listeners[a])&&(i[0]!=e||i[1]!=t||i[2]!=n);a++);i&&this._listeners.splice(a,1)},t.prototype.dispatchEvent=function(e){var t={type:e.type,target:this,currentTarget:this,eventPhase:2,bubbles:e.bubbles,cancelable:e.cancelable,timeStamp:e.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}};"readystatechange"==t.type&&this.onreadystatechange&&(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[t]);for(var n,i=0;n=this._listeners[i];i++)n[0]!=t.type||n[2]||(n[1].handleEvent||n[1]).apply(this,[t])},t.prototype.toString=function(){return"[object XMLHttpRequest]"},t.toString=function(){return"[XMLHttpRequest]"},Resolver("essential").set("XMLHttpRequest",t)}(),!function(){"use strict";function delayedScriptOnload(){function e(){var e=this,t=e.getAttribute("name");t&&(ApplicationConfig().modules[t]=!0),setTimeout(function(){var t=pageResolver(["state","loadingScriptsUrl"]);void 0!=t[e.src.replace(baseUrl,"")]?pageResolver.set(["state","loadingScriptsUrl",e.src.replace(baseUrl,"")],!1):void 0!=t[e.src.replace(serverUrl,"")]&&pageResolver.set(["state","loadingScriptsUrl",e.src.replace(serverUrl,"")],!1)},0)}return e}function _queueDelayedAssets(){for(var config=ApplicationConfig(),links=document.getElementsByTagName("link"),i=0,l;l=links[i];++i)switch(l.rel){case"stylesheet":config.resources().push(l);break;case"pastload":case"preload":var attrsStr=l.getAttribute("attrs"),attrs={};if(attrsStr)try{eval("attrs = {"+attrsStr+"}")}catch(ex){}attrs.type=l.getAttribute("type")||"text/javascript",attrs.src=l.getAttribute("src"),attrs.name=l.getAttribute("data-name")||l.getAttribute("name")||void 0,attrs.base=baseUrl,attrs.subpage="false"==l.getAttribute("subpage")||"false"==l.getAttribute("data-subpage")?!1:!0,attrs.onload=delayedScriptOnload(l.rel);var relSrc=attrs.src.replace(baseUrl,"");if(l.attrs=attrs,"preload"==l.rel){var langOk=!0;l.lang&&(langOk=l.lang==pageResolver("state.lang")),langOk&&(pageResolver.set(["state","preloading"],!0),pageResolver.set(["state","loadingScripts"],!0),pageResolver.set(["state","loadingScriptsUrl",relSrc],l),document.body.appendChild(HTMLScriptElement(attrs)),l.added=!0)}else{var langOk=!0;l.lang&&(langOk=l.lang==pageResolver("state.lang")),langOk&&(pageResolver.set(["state","loadingScripts"],!0),pageResolver.set(["state","loadingScriptsUrl",relSrc],l))}}if(!pageResolver(["state","preloading"])){var scripts=pageResolver(["state","loadingScriptsUrl"]);for(var n in scripts){var link=scripts[n];if("pastload"==link.rel){var langOk=!0;link.lang&&(langOk=link.lang==pageResolver("state.lang")),langOk&&(document.body.appendChild(HTMLScriptElement(link.attrs)),link.added=!0)}}}pageResolver(["state","loadingScripts"])&&console.debug("loading phased scripts");for(var metas=document.getElementsByTagName("meta"),i=0,m;m=metas[i];++i)switch((m.getAttribute("name")||"").toLowerCase()){case"enhanced roles":DocumentRoles.useBuiltins((m.getAttribute("content")||"").split(" "))}}function configRequired(e){pageResolver.set(["state","loadingConfig"],!0),pageResolver.set(["state","loadingConfigUrl",e],!0)}function configLoaded(e){pageResolver.set(["state","loadingConfigUrl",e],!1)}function _DialogAction(e){this.actionName=e}function resizeTriggersReflow(e){DocumentRoles()._resize_descs();for(var t,n=0;t=enhancedWindows[n];++n)t.notify(e)}function defaultButtonClick(e){e=MutableEvent(e).withActionInfo(),e.commandElement&&e.commandElement==e.actionElement&&fireAction(e)}function fireAction(e){var t=e.actionElement,n=e.action,i=e.commandName;if(t.actionVariant||(n=n?n.replace(baseUrl,""):"submit",t.actionVariant=DialogAction.variant(n)(n)),t.actionVariant[i])t.actionVariant[i](t,e);else{var a=i.replace("-","_").replace(" ","_");t.actionVariant[a]&&t.actionVariant[a](t,e)}}function _StatefulField(e,t){var n=StatefulResolver(t,!0);return n}function _TextField(){}function _CheckboxField(){}function _TimeField(){}function _CommandField(){}function enhanceStatefulFields(e){for(var t=e.firstChild;t;t=t.nextSibling){var n=t.name||t.getAttribute("data-name")||t.getAttribute("name");if(n){var i=t.getAttribute("role"),a=[];i?(t.type&&a.push("*[role="+i+",type="+t.type+"]"),a.push("*[role="+i+"]")):(t.type&&a.push(t.tagName.toLowerCase()+"[type="+t.type+"]"),a.push(t.tagName.toLowerCase())),StatefulField.variant(a)(n,t,i)}enhanceStatefulFields(t)}}function _DocumentRoles(e,t){this.handlers=e||this.handlers||{enhance:{},discard:{},layout:{}},this._on_event=[],this.page=t||ApplicationConfig(),window.addEventListener?(window.addEventListener("resize",resizeTriggersReflow,!1),this.page.body.addEventListener("orientationchange",resizeTriggersReflow,!1),this.page.body.addEventListener("click",defaultButtonClick,!1)):(window.attachEvent("onresize",resizeTriggersReflow),this.page.body.attachEvent("onclick",defaultButtonClick));var n=this.page.resolver("descriptors");this._enhance_descs(n)}function scrollbarSize(){if(void 0===_scrollbarSize){var e=HTMLElement("div",{style:"width:50px;height:50px;overflow:scroll;position:absolute;top:-200px;left:-200px;"},'<div style="height:100px;"></div>');document.body.appendChild(e),_scrollbarSize=e.offsetWidth-e.clientWidth||7,document.body.removeChild(e)}return _scrollbarSize}var essential=Resolver("essential",{}),ObjectType=essential("ObjectType"),console=essential("console"),MutableEvent=essential("MutableEvent"),StatefulResolver=essential("StatefulResolver"),ApplicationConfig=essential("ApplicationConfig"),pageResolver=Resolver("page"),getActiveArea=essential("getActiveArea"),arrayContains=essential("arrayContains"),statefulCleaner=essential("statefulCleaner"),HTMLElement=essential("HTMLElement"),HTMLScriptElement=essential("HTMLScriptElement"),baseUrl=location.href.substring(0,location.href.split("?")[0].lastIndexOf("/")+1),serverUrl=location.protocol+"//"+location.host,callCleaners=essential("callCleaners"),enhancedElements=essential("enhancedElements"),maintainedElements=essential("maintainedElements"),enhancedWindows=essential("enhancedWindows");essential.set("_queueDelayedAssets",_queueDelayedAssets),essential.set("configRequired",configRequired),essential.set("configLoaded",configLoaded),_DialogAction.prototype.activateArea=essential("activateArea");var DialogAction=essential.set("DialogAction",Generator(_DialogAction));essential.declare("fireAction",fireAction);var StatefulField=essential.declare("StatefulField",Generator(_StatefulField,{alloc:!1}));StatefulField.prototype.destroy=function(){},StatefulField.prototype.discard=function(){},StatefulField.variant("input[type=text]",Generator(_TextField,_StatefulField)),StatefulField.variant("input[type=checkbox]",Generator(_CheckboxField,_StatefulField)),StatefulField.variant("input[type=time]",Generator(_TimeField,_StatefulField));var CommandField=StatefulField.variant("*[role=link]",Generator(_CommandField,_StatefulField));StatefulField.variant("*[role=button]",Generator(_CommandField,_StatefulField)),essential.declare("enhanceStatefulFields",enhanceStatefulFields);var DocumentRoles=essential.set("DocumentRoles",Generator(_DocumentRoles));_DocumentRoles.args=[ObjectType({name:"handlers"})],_DocumentRoles.prototype._enhance_descs=function(e){var t=!1,n=0;for(var i in e){var a=e[i];StatefulResolver(a.el,!0),a.enhanced||(a._tryEnhance(this.handlers),++n),a.enhanced||(t=!0),a._tryMakeLayouter(""),a._tryMakeLaidout("")}if(!t&&n>0)for(var r,o=0;r=this._on_event[o];++o)if("enhanced"==r.type){var s=[];for(var i in e){var a=e[i];a.role&&(null==r.role||r.role==a.role)&&s.push(a)}r.func.call(this,this,s)}},_DocumentRoles.discarded=function(){for(var e in enhancedElements){var t=enhancedElements[e];t.role&&t.enhanced&&!t.discarded&&(callCleaners(t.el),delete t.el,delete enhancedElements[e])}},_DocumentRoles.prototype._resize_descs=function(){for(var e in maintainedElements){var t=maintainedElements[e],n=t.el.offsetWidth,i=t.el.offsetHeight;if(t.layout.enable&&(t.layout.width!=n||t.layout.height!=i)){t.layout.width=n,t.layout.height=i;var a=(new Date).getTime(),r=t.layout.throttle;if(t.layout.delayed);else if("number"!=typeof r||t.layout.lastDirectCall+r<a)t.refresh(),t.layout.lastDirectCall=a,t.layouterParent&&(t.layouterParent.layout.queued=!0);else{var o=a+r-t.layout.lastDirectCall;!function(e){e.layout.delayed=!0,setTimeout(function(){e.refresh(),e.layout.lastDirectCall=a,e.layout.delayed=!1,e.layouterParent&&(e.layouterParent.layout.queued=!0)},o)}(t)}}}},_DocumentRoles.prototype._area_changed_descs=function(){for(var e in maintainedElements){var t=maintainedElements[e];t.layout.enable&&t.refresh()}},_DocumentRoles.prototype.on=function(e,t,n){2==arguments.length&&(n=t),this._on_event.push({type:e,func:n,name:e,role:t})},DocumentRoles.presets.declare("handlers",pageResolver("handlers")),_DocumentRoles.default_enhance=function(){return{}},_DocumentRoles.default_layout=function(){},_DocumentRoles.default_discard=function(){},DocumentRoles.useBuiltins=function(e){DocumentRoles.restrict({singleton:!0,lifecycle:"page"});for(var t,n=0;t=e[n];++n)this["init_"+t]&&this.presets.declare(["handlers","init",t],this["init_"+t]),this["enhance_"+t]&&this.presets.declare(["handlers","enhance",t],this["enhance_"+t]),this["sizing_"+t]&&this.presets.declare(["handlers","sizing",t],this["sizing_"+t]),this["layout_"+t]&&this.presets.declare(["handlers","layout",t],this["layout_"+t]),this["discard_"+t]&&this.presets.declare(["handlers","discard",t],this["discard_"+t])};var _scrollbarSize;essential.declare("scrollbarSize",scrollbarSize)}(),!function(){"use strict";function e(e,t,n){this.key=e,this.type=n.layouter,this.areaNames=n["area-names"],this.activeArea=null,this.baseClass=n["base-class"],this.baseClass?this.baseClass+=" ":this.baseClass=""}function t(e,t,n){this.key=e,this.type=n.laidout,this.areaNames=n["area-names"],this.baseClass=n["base-class"],this.baseClass?this.baseClass+=" ":this.baseClass="",t&&(t.className=this.baseClass+t.className)}function n(e){var t=this;return setTimeout(function(){t.submit(e)},0),!1}function i(e){document.activeElement&&document.activeElement.blur(),this.blur(),a.call(this,e)}function a(e){void 0==e&&(e=b().withDefaultSubmit(this)),e.commandElement&&R(e)}function r(e){return a.call(this,e)}function o(){for(var e,t=0;e=this.elements[t];++t)e.blur()}function s(){for(var e,t=0;e=this.elements[t];++t){var n=e.getAttribute("autofocus");if(n){e.focus();break}}}function l(e){if(e=b(e).withActionInfo(),e.commandElement){if(e.stateful&&e.stateful("state.disabled"))return;if(e.ariaDisabled)return;this.submit(e),e.stopPropagation()}return e.defaultPrevented?!1:void 0}function c(e){for(var t,n=0;t=e[n];++n)switch(t.tagName){case"button":case"BUTTON":t.setAttribute("role","button");break;case"a":case"A":t.setAttribute("role","link")}}function d(e){for(var t,n=0;t=e[n];++n)"submit"===t.type&&(t.setAttribute("type","button"),"submit"===t.type&&(t.type="submit"))}function u(e,t){var n=Resolver(t||"default")(e,"null");return n?Generator(n):null}function h(){}function p(e){if(null==O){e.preventDefault&&e.preventDefault();var t=this.parentNode.scrolled,n=new h;return n.track=function(e,n,i){t.scrollTop=i},n.start(this,e),n.startY=t.scrollTop,n.startX=t.scrollLeft,n.factorY=t.scrollHeight/n.el.offsetHeight,n.maxY=t.scrollHeight-t.clientHeight,!1}}function f(e){if(null==O){e.preventDefault&&e.preventDefault();var t=this.parentNode.scrolled,n=new h;return n.track=function(e,n){t.scrollLeft=n},n.start(this,e),n.startY=t.scrollTop,n.startX=t.scrollLeft,n.factorX=t.scrollWidth/n.el.offsetWidth,n.maxX=t.scrollWidth-t.clientWidth,!1}}function g(e,t,n,i){this.scrolled=e,this.el=w("div",{"class":n["class"]},"<header></header><footer></footer><nav><header></header><footer></footer></nav>"),t.appendChild(this.el),this.sizeName=n.sizeName,this.posName=n.posName,this.sizeStyle=n.sizeName.toLowerCase(),this.posStyle=n.posName.toLowerCase(),this.autoHide=n.autoHide,this.trackScroll=0==n.trackScroll?!1:!0,this.trackScrolled(e),L(e,M),L(this.el,{mousedown:i}),n.initialDisplay!==!1&&this.show()&&(this.hiding=setTimeout(this.hide.bind(this),parseInt(n.initialDisplay,10)||3e3))}function v(e,t){var n=e.parentNode;t.obscured&&(e.parentNode.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden;",e.style.right="-"+k()+"px",e.style.bottom="-"+k()+"px",e.style.paddingRight=k()+"px",e.style.paddingBottom=k()+"px",n=n.parentNode),this.x=!1!==t.x,this.y=!1!==t.y,this.vert=new g(e,n,{"class":t.obscured?"vert-scroller obscured":"vert-scroller",initialDisplay:t.initialDisplay,trackScroll:t.trackScroll,sizeName:"Height",posName:"Top"},p),this.vert.el.style.width=k()+"px",t.obscured&&(this.vert.el.style.right="-"+k()+"px"),this.horz=new g(e,n,{"class":t.obscured?"horz-scroller obscured":"horz-scroller",initialDisplay:t.initialDisplay,trackScroll:t.trackScroll,sizeName:"Width",posName:"Left"},f),this.horz.el.style.height=k()+"px",t.obscured&&(this.horz.el.style.bottom="-"+k()+"px"),n.scrolled=e,_(n,!0),L(n,P),n.scrollContainer="top",this.refresh(e)}var m=Resolver("essential",{}),y=(m("ObjectType"),m("console")),b=m("MutableEvent"),_=m("StatefulResolver"),w=(m("statefulCleaner"),m("HTMLElement")),E=(m("HTMLScriptElement"),m("Layouter")),S=m("Laidout"),A=m("EnhancedDescriptor"),C=m("callCleaners"),L=m("addEventListeners"),T=m("removeEventListeners"),x=m("DocumentRoles"),R=m("fireAction"),k=m("scrollbarSize");location.href.substring(0,location.href.split("?")[0].lastIndexOf("/")+1),location.protocol+"//"+location.host;var N=m.declare("StageLayouter",Generator(e,E));E.variant("area-stage",N),e.prototype.refreshClass=function(e){for(var t,n=[],i=0;t=this.areaNames[i];++i)t==this.activeArea?n.push(t+"-area-active"):n.push(t+"-area-inactive");var a=this.baseClass+n.join(" ");e.className!=a&&(e.className=a)},e.prototype.updateActiveArea=function(e,t){this.activeArea=e,this.refreshClass(t)};var D=m.declare("MemberLaidout",Generator(t,S));S.variant("area-member",D),x.enhance_dialog=function(e){switch(e.tagName.toLowerCase()){case"form":e.onsubmit=n,e.__builtinSubmit=e.submit,e.submit=i,e.__builtinBlur=e.blur,e.blur=o,e.__builtinFocus=e.focus,e.focus=s;break;default:d(e.getElementsByTagName("BUTTON")),c(e.getElementsByTagName("BUTTON")),c(e.getElementsByTagName("A")),e.submit=a}return L(e,{click:l},!1),{}},x.layout_dialog=function(){},x.discard_dialog=function(){},x.enhance_toolbar=function(e){return d(e.getElementsByTagName("BUTTON")),c(e.getElementsByTagName("BUTTON")),c(e.getElementsByTagName("A")),e.submit=r,L(e,{click:l},!1),{}},x.layout_toolbar=function(){},x.discard_toolbar=function(){},x.enhance_navigation=x.enhance_menu=x.enhance_menubar=x.enhance_toolbar,x.enhance_sheet=function(){return{}},x.layout_sheet=function(){},x.discard_sheet=function(){},x.enhance_spinner=function(e,t,n){var i={lines:8,length:5,width:5,radius:8,color:"#fff",speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:void 0!=n.zIndex?n.zIndex:2e9,top:"auto",left:"auto"};return new Spinner(i).spin(e)},x.layout_spinner=function(){},x.discard_spinner=function(e,t,n){n.stop(),e.innerHTML=""},x.enhance_application=function(e,t,n){if(n.variant,n.generator){var i=u(n.generator,n.resolver);if(i){var a=i(e,t,n);return a}return!1}return{}},x.layout_application=function(){},x.discard_application=function(){};var P={mousemove:function(){},mouseover:function(){var e=A(this.scrolled).instance;this.stateful.movedOutInterval&&clearTimeout(this.stateful.movedOutInterval),this.stateful.movedOutInterval=null,this.stateful.set("over",!0),e.vert.show(),e.horz.show()},mouseout:function(){var e=this,t=A(this.scrolled).instance;this.stateful.movedOutInterval&&clearTimeout(this.stateful.movedOutInterval),this.stateful.movedOutInterval=setTimeout(function(){e.stateful.set("over",!1),1!=e.stateful("dragging")&&(t.vert.hide(),t.horz.hide())},30)}},M={scroll:function(){var e=A(this).instance;e.vert.shown||(e.vert.show(),e.horz.show(),this.stateful("over")||this.stateful("dragging")||(e.vert.delayedHide(),e.horz.delayedHide())),e.refresh(this)},mousewheel:function(e){var t=e.delta,n=e.x,i=e.y;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),i=t,void 0!=e.axis&&e.axis==e.HORIZONTAL_AXIS&&(i=0,n=-1*t),void 0!==e.wheelDeltaY&&(i=e.wheelDeltaY/120),void 0!==e.wheelDeltaX&&(n=-1*e.wheelDeltaX/120),0>n&&0==this.scrollLeft||n>0&&this.scrollLeft+Math.ceil(this.offsetWidth)==this.scrollWidth?(e.preventDefault&&e.preventDefault(),!1):void 0}},O=null;h.prototype.track=function(){},h.prototype.start=function(e,t){var n=this;return this.el=e,this.event=t,this.startY=e.offsetTop,this.minY=0,this.maxY=1e3,this.startX=e.offsetLeft,this.minX=0,this.maxX=1e3,this.factorX=1,this.factorY=1,this.startPageY=t.pageY,this.startPageX=t.pageX,document.onselectstart=function(){return!1},e.stateful&&e.stateful.set("dragging",!0),this.drag_events={keyup:function(){},mousemove:function(e){var t=Math.min(Math.max(n.startY+n.factorY*(e.pageY-n.startPageY),n.minY),n.maxY),i=Math.min(Math.max(n.startX+n.factorX*(e.pageX-n.startPageX),n.minX),n.maxX);n.track(e,i,t),y.log(n.factorX,n.factorY)},mouseup:function(){n.end()}},L(document.body,this.drag_events),O=this,this},h.prototype.end=function(){return this.el.stateful&&this.el.stateful.set("dragging",!1),T(document.body,this.drag_events),delete document.onselectstart,O=null,this},g.prototype.trackScrolled=function(e){this.trackScroll&&(this.scrolledTo=e["scroll"+this.posName],this.scrolledContentSize=e["scroll"+this.sizeName]),this.scrolledSize=e["client"+this.sizeName]},g.prototype.update=function(){this.el.lastChild.style[this.posStyle]=100*this.scrolledTo/this.scrolledContentSize+"%",this.el.lastChild.style[this.sizeStyle]=100*this.scrolledSize/this.scrolledContentSize+"%"},g.prototype.show=function(){return this.scrolledContentSize<=this.scrolledSize?!1:this.shown?void 0:(this.update(this.scrolled),this.el.className+=" shown",this.hiding&&(clearTimeout(this.hiding),delete this.hiding),this.shown=!0,!0)},g.prototype.hide=function(){this.autoHide!==!1&&this.shown&&(this.el.className=this.el.className.replace(" shown",""),this.hiding&&(clearTimeout(this.hiding),delete this.hiding),this.shown=!1)},g.prototype.delayedHide=function(e){var t=this;this.hiding=setTimeout(function(){t.hide()},e||1500)},g.prototype.destroy=function(){this.el&&(this.el.parentNode&&this.el.parentNode.removeChild(this.el),C(this.el),this.el=void 0)},v.prototype.refresh=function(e){this.vert.trackScrolled(e),this.vert.update(e),this.horz.trackScrolled(e),this.horz.update(e)},v.prototype.layout=function(e){this.vert.shown||(this.vert.show(),this.horz.show(),e.stateful("over")||e.stateful("dragging")||(this.vert.delayedHide(750),this.horz.delayedHide(750))),this.refresh(e)},v.prototype.discard=function(e){this.vert&&this.vert.destroy(),this.horz&&this.horz.destroy(),delete this.vert,delete this.horz,C(e.parentNode),C(e)},v.prototype.setContentHeight=function(){},x.enhance_scrolled=function(e,t,n){_(e,!0),e.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;overflow:scroll;";var i=new v(e,n);return i},x.layout_scrolled=function(e,t,n){n.layout(e,t)},x.discard_scrolled=function(e,t,n){n.discard(e),e.stateful&&e.stateful.destroy()},x.init_template=function(){this.contentManaged=!0},Resolver("page").set("handlers.init.template",x.init_template),x.init_templated=function(){this.contentManaged=!0}}(),Resolver("essential::ApplicationConfig::").restrict({singleton:!0,lifecycle:"page"}),Resolver("page::state.livepage").on("change",function(e){var t=Resolver("essential::EnhancedDescriptor::");e.value?(t.maintainer=setInterval(t.maintainAll,330),t.refresher=setInterval(t.refreshAll,160)):(clearInterval(t.maintainer),clearInterval(t.refresher))});